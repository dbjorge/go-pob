import{at as m,a4 as A,au as L,a0 as O,a2 as g,ag as h,a3 as E,n as H,F as _,ao as I,a1 as Y,av as j,am as k,ad as C,aw as M,ab as S,D as V,p as $,l as w,ai as F,e as G,G as W}from"./runtime.CgsK0d0J.js";import{j as q,k as D,n as p}from"./props.B6xuKHJ3.js";import{d as z}from"./disclose-version.DA6AmP8y.js";import{i as B}from"./utils.Bzy8hHY9.js";function X(a,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(a.__t??(a.__t=a.nodeValue))&&(a.__t=n,a.nodeValue=n==null?"":n+"")}function J(a,e){return N(a,e)}function Z(a,e){m(),e.intro=e.intro??!1;const n=e.target,l=w,u=_;try{for(var t=A(n);t&&(t.nodeType!==8||t.data!==L);)t=O(t);if(!t)throw g;h(!0),E(t),H();const d=N(a,{...e,anchor:t});if(_===null||_.nodeType!==8||_.data!==I)throw Y(),g;return h(!1),d}catch(d){if(d===g)return e.recover===!1&&j(),m(),k(n),h(!1),J(a,e);throw d}finally{h(l),E(u)}}const o=new Map;function N(a,{target:e,anchor:n,props:l={},events:u,context:t,intro:d=!0}){m();var v=new Set,y=i=>{for(var r=0;r<i.length;r++){var s=i[r];if(!v.has(s)){v.add(s);var f=B(s);e.addEventListener(s,p,{passive:f});var T=o.get(s);T===void 0?(document.addEventListener(s,p,{passive:f}),o.set(s,1)):o.set(s,T+1)}}};y(C(q)),D.add(y);var c=void 0,b=M(()=>{var i=n??e.appendChild(S());return V(()=>{if(t){$({});var r=W;r.c=t}u&&(l.$$events=u),w&&z(i,null),c=a(i,l)||{},w&&(F.nodes_end=_),t&&G()}),()=>{var f;for(var r of v){e.removeEventListener(r,p);var s=o.get(r);--s===0?(document.removeEventListener(r,p),o.delete(r)):o.set(r,s)}D.delete(y),R.delete(c),i!==n&&((f=i.parentNode)==null||f.removeChild(i))}});return R.set(c,b),c}let R=new WeakMap;function x(a){const e=R.get(a);e&&e()}export{Z as h,J as m,X as s,x as u};
