var Gn=Object.defineProperty;var xn=(q,z,te)=>z in q?Gn(q,z,{enumerable:!0,configurable:!0,writable:!0,value:te}):q[z]=te;var se=(q,z,te)=>xn(q,typeof z!="symbol"?z+"":z,te);(function(){"use strict";/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const q=Symbol("Comlink.proxy"),z=Symbol("Comlink.endpoint"),te=Symbol("Comlink.releaseProxy"),Se=Symbol("Comlink.finalizer"),ce=Symbol("Comlink.thrown"),Ge=s=>typeof s=="object"&&s!==null||typeof s=="function",kt={canHandle:s=>Ge(s)&&s[q],serialize(s){const{port1:v,port2:f}=new MessageChannel;return ke(s,v),[f,[f]]},deserialize(s){return s.start(),wt(s)}},Et={canHandle:s=>Ge(s)&&ce in s,serialize({value:s}){let v;return s instanceof Error?v={isError:!0,value:{message:s.message,name:s.name,stack:s.stack}}:v={isError:!1,value:s},[v,[]]},deserialize(s){throw s.isError?Object.assign(new Error(s.value.message),s.value):s.value}},xe=new Map([["proxy",kt],["throw",Et]]);function Rt(s,v){for(const f of s)if(v===f||f==="*"||f instanceof RegExp&&f.test(v))return!0;return!1}function ke(s,v=globalThis,f=["*"]){v.addEventListener("message",function b(h){if(!h||!h.data)return;if(!Rt(f,h.origin)){console.warn(`Invalid origin '${h.origin}' for comlink proxy`);return}const{id:d,type:k,path:C}=Object.assign({path:[]},h.data),A=(h.data.argumentList||[]).map(J);let I;try{const D=C.slice(0,-1).reduce((c,R)=>c[R],s),n=C.reduce((c,R)=>c[R],s);switch(k){case"GET":I=n;break;case"SET":D[C.slice(-1)[0]]=J(h.data.value),I=!0;break;case"APPLY":I=n.apply(D,A);break;case"CONSTRUCT":{const c=new n(...A);I=Re(c)}break;case"ENDPOINT":{const{port1:c,port2:R}=new MessageChannel;ke(s,R),I=Dt(c,[c])}break;case"RELEASE":I=void 0;break;default:return}}catch(D){I={value:D,[ce]:0}}Promise.resolve(I).catch(D=>({value:D,[ce]:0})).then(D=>{const[n,c]=ye(D);v.postMessage(Object.assign(Object.assign({},n),{id:d}),c),k==="RELEASE"&&(v.removeEventListener("message",b),$e(v),Se in s&&typeof s[Se]=="function"&&s[Se]())}).catch(D=>{const[n,c]=ye({value:new TypeError("Unserializable return value"),[ce]:0});v.postMessage(Object.assign(Object.assign({},n),{id:d}),c)})}),v.start&&v.start()}function It(s){return s.constructor.name==="MessagePort"}function $e(s){It(s)&&s.close()}function wt(s,v){const f=new Map;return s.addEventListener("message",function(h){const{data:d}=h;if(!d||!d.id)return;const k=f.get(d.id);if(k)try{k(d)}finally{f.delete(d.id)}}),Ee(s,f,[],v)}function ue(s){if(s)throw new Error("Proxy has been released and is not useable")}function Ue(s){return ne(s,new Map,{type:"RELEASE"}).then(()=>{$e(s)})}const de=new WeakMap,fe="FinalizationRegistry"in globalThis&&new FinalizationRegistry(s=>{const v=(de.get(s)||0)-1;de.set(s,v),v===0&&Ue(s)});function At(s,v){const f=(de.get(v)||0)+1;de.set(v,f),fe&&fe.register(s,v,s)}function Tt(s){fe&&fe.unregister(s)}function Ee(s,v,f=[],b=function(){}){let h=!1;const d=new Proxy(b,{get(k,C){if(ue(h),C===te)return()=>{Tt(d),Ue(s),v.clear(),h=!0};if(C==="then"){if(f.length===0)return{then:()=>d};const A=ne(s,v,{type:"GET",path:f.map(I=>I.toString())}).then(J);return A.then.bind(A)}return Ee(s,v,[...f,C])},set(k,C,A){ue(h);const[I,D]=ye(A);return ne(s,v,{type:"SET",path:[...f,C].map(n=>n.toString()),value:I},D).then(J)},apply(k,C,A){ue(h);const I=f[f.length-1];if(I===z)return ne(s,v,{type:"ENDPOINT"}).then(J);if(I==="bind")return Ee(s,v,f.slice(0,-1));const[D,n]=We(A);return ne(s,v,{type:"APPLY",path:f.map(c=>c.toString()),argumentList:D},n).then(J)},construct(k,C){ue(h);const[A,I]=We(C);return ne(s,v,{type:"CONSTRUCT",path:f.map(D=>D.toString()),argumentList:A},I).then(J)}});return At(d,s),d}function Bt(s){return Array.prototype.concat.apply([],s)}function We(s){const v=s.map(ye);return[v.map(f=>f[0]),Bt(v.map(f=>f[1]))]}const Ve=new WeakMap;function Dt(s,v){return Ve.set(s,v),s}function Re(s){return Object.assign(s,{[q]:!0})}function ye(s){for(const[v,f]of xe)if(f.canHandle(s)){const[b,h]=f.serialize(s);return[{type:"HANDLER",name:v,value:b},h]}return[{type:"RAW",value:s},Ve.get(s)||[]]}function J(s){switch(s.type){case"HANDLER":return xe.get(s.name).deserialize(s.value);case"RAW":return s.value}}function ne(s,v,f,b){return new Promise(h=>{const d=Ft();v.set(d,h),s.start&&s.start(),s.postMessage(Object.assign({id:d},f),b)})}function Ft(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}const ze=new RegExp(["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","((?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|"),"g"),Lt={"0m":"font-weight:unset;color:unset;","1m":"font-weight:bold;","30m":"color:black;","31m":"color:red;","32m":"color:green;","33m":"color:yellow;","34m":"color:blue;","35m":"color:magenta;","36m":"color:cyan;","37m":"color:grey;","38m":"color:white;","39m":"color:unset;","90m":"color:gray;","91m":"color:#ff4a4a;","92m":"color:#52c052;","93m":"color:#fcfc69;","94m":"color:#5353ff;","95m":"color:#ff89ff;","96m":"color:#67ffff;","97m":"color:grey;","98m":"color:white;","99m":"color:unset;"},Ke=console.log;console.log=(...s)=>{if(s.length==1&&typeof s[0]=="string"){const f=[...s[0].matchAll(ze)].map(b=>Lt[b[1]]||"");return Ke(s[0].replaceAll(ze,"%c"),...f)}return Ke(...s)},(()=>{const s=()=>{const b=new Error("not implemented");return b.code="ENOSYS",b};if(!globalThis.fs){let b="";globalThis.fs={constants:{O_WRONLY:-1,O_RDWR:-1,O_CREAT:-1,O_TRUNC:-1,O_APPEND:-1,O_EXCL:-1},writeSync(h,d){b+=f.decode(d);const k=b.lastIndexOf(`
`);return k!=-1&&(console.log(b.substring(0,k)),b=b.substring(k+1)),d.length},write(h,d,k,C,A,I){if(k!==0||C!==d.length||A!==null){I(s());return}const D=this.writeSync(h,d);I(null,D)},chmod(h,d,k){k(s())},chown(h,d,k,C){C(s())},close(h,d){d(s())},fchmod(h,d,k){k(s())},fchown(h,d,k,C){C(s())},fstat(h,d){d(s())},fsync(h,d){d(null)},ftruncate(h,d,k){k(s())},lchown(h,d,k,C){C(s())},link(h,d,k){k(s())},lstat(h,d){d(s())},mkdir(h,d,k){k(s())},open(h,d,k,C){C(s())},read(h,d,k,C,A,I){I(s())},readdir(h,d){d(s())},readlink(h,d){d(s())},rename(h,d,k){k(s())},rmdir(h,d){d(s())},stat(h,d){d(s())},symlink(h,d,k){k(s())},truncate(h,d,k){k(s())},unlink(h,d){d(s())},utimes(h,d,k,C){C(s())}}}if(globalThis.process||(globalThis.process={getuid(){return-1},getgid(){return-1},geteuid(){return-1},getegid(){return-1},getgroups(){throw s()},pid:-1,ppid:-1,umask(){throw s()},cwd(){throw s()},chdir(){throw s()}}),!globalThis.crypto)throw new Error("globalThis.crypto is not available, polyfill required (crypto.getRandomValues only)");if(!globalThis.performance)throw new Error("globalThis.performance is not available, polyfill required (performance.now only)");if(!globalThis.TextEncoder)throw new Error("globalThis.TextEncoder is not available, polyfill required");if(!globalThis.TextDecoder)throw new Error("globalThis.TextDecoder is not available, polyfill required");const v=new TextEncoder("utf-8"),f=new TextDecoder("utf-8");globalThis.Go=class{constructor(){this.argv=["js"],this.env={},this.exit=n=>{n!==0&&console.warn("exit code:",n)},this._exitPromise=new Promise(n=>{this._resolveExitPromise=n}),this._pendingEvent=null,this._scheduledTimeouts=new Map,this._nextCallbackTimeoutID=1;const b=(n,c)=>{this.mem.setUint32(n+0,c,!0),this.mem.setUint32(n+4,Math.floor(c/4294967296),!0)},h=n=>{const c=this.mem.getUint32(n+0,!0),R=this.mem.getInt32(n+4,!0);return c+R*4294967296},d=n=>{const c=this.mem.getFloat64(n,!0);if(c===0)return;if(!isNaN(c))return c;const R=this.mem.getUint32(n,!0);return this._values[R]},k=(n,c)=>{if(typeof c=="number"&&c!==0){if(isNaN(c)){this.mem.setUint32(n+4,2146959360,!0),this.mem.setUint32(n,0,!0);return}this.mem.setFloat64(n,c,!0);return}if(c===void 0){this.mem.setFloat64(n,0,!0);return}let w=this._ids.get(c);w===void 0&&(w=this._idPool.pop(),w===void 0&&(w=this._values.length),this._values[w]=c,this._goRefCounts[w]=0,this._ids.set(c,w)),this._goRefCounts[w]++;let P=0;switch(typeof c){case"object":c!==null&&(P=1);break;case"string":P=2;break;case"symbol":P=3;break;case"function":P=4;break}this.mem.setUint32(n+4,2146959360|P,!0),this.mem.setUint32(n,w,!0)},C=n=>{const c=h(n+0),R=h(n+8);return new Uint8Array(this._inst.exports.mem.buffer,c,R)},A=n=>{const c=h(n+0),R=h(n+8),w=new Array(R);for(let P=0;P<R;P++)w[P]=d(c+P*8);return w},I=n=>{const c=h(n+0),R=h(n+8);return f.decode(new DataView(this._inst.exports.mem.buffer,c,R))},D=Date.now()-performance.now();this.importObject={_gotest:{add:(n,c)=>n+c},gojs:{"runtime.wasmExit":n=>{n>>>=0;const c=this.mem.getInt32(n+8,!0);this.exited=!0,delete this._inst,delete this._values,delete this._goRefCounts,delete this._ids,delete this._idPool,this.exit(c)},"runtime.wasmWrite":n=>{n>>>=0;const c=h(n+8),R=h(n+16),w=this.mem.getInt32(n+24,!0);fs.writeSync(c,new Uint8Array(this._inst.exports.mem.buffer,R,w))},"runtime.resetMemoryDataView":n=>{this.mem=new DataView(this._inst.exports.mem.buffer)},"runtime.nanotime1":n=>{n>>>=0,b(n+8,(D+performance.now())*1e6)},"runtime.walltime":n=>{n>>>=0;const c=new Date().getTime();b(n+8,c/1e3),this.mem.setInt32(n+16,c%1e3*1e6,!0)},"runtime.scheduleTimeoutEvent":n=>{n>>>=0;const c=this._nextCallbackTimeoutID;this._nextCallbackTimeoutID++,this._scheduledTimeouts.set(c,setTimeout(()=>{for(this._resume();this._scheduledTimeouts.has(c);)console.warn("scheduleTimeoutEvent: missed timeout event"),this._resume()},h(n+8))),this.mem.setInt32(n+16,c,!0)},"runtime.clearTimeoutEvent":n=>{n>>>=0;const c=this.mem.getInt32(n+8,!0);clearTimeout(this._scheduledTimeouts.get(c)),this._scheduledTimeouts.delete(c)},"runtime.getRandomData":n=>{n>>>=0,crypto.getRandomValues(C(n+8))},"syscall/js.finalizeRef":n=>{n>>>=0;const c=this.mem.getUint32(n+8,!0);if(this._goRefCounts[c]--,this._goRefCounts[c]===0){const R=this._values[c];this._values[c]=null,this._ids.delete(R),this._idPool.push(c)}},"syscall/js.stringVal":n=>{n>>>=0,k(n+24,I(n+8))},"syscall/js.valueGet":n=>{n>>>=0;const c=Reflect.get(d(n+8),I(n+16));n=this._inst.exports.getsp()>>>0,k(n+32,c)},"syscall/js.valueSet":n=>{n>>>=0,Reflect.set(d(n+8),I(n+16),d(n+32))},"syscall/js.valueDelete":n=>{n>>>=0,Reflect.deleteProperty(d(n+8),I(n+16))},"syscall/js.valueIndex":n=>{n>>>=0,k(n+24,Reflect.get(d(n+8),h(n+16)))},"syscall/js.valueSetIndex":n=>{n>>>=0,Reflect.set(d(n+8),h(n+16),d(n+24))},"syscall/js.valueCall":n=>{n>>>=0;try{const c=d(n+8),R=Reflect.get(c,I(n+16)),w=A(n+32),P=Reflect.apply(R,c,w);n=this._inst.exports.getsp()>>>0,k(n+56,P),this.mem.setUint8(n+64,1)}catch(c){n=this._inst.exports.getsp()>>>0,k(n+56,c),this.mem.setUint8(n+64,0)}},"syscall/js.valueInvoke":n=>{n>>>=0;try{const c=d(n+8),R=A(n+16),w=Reflect.apply(c,void 0,R);n=this._inst.exports.getsp()>>>0,k(n+40,w),this.mem.setUint8(n+48,1)}catch(c){n=this._inst.exports.getsp()>>>0,k(n+40,c),this.mem.setUint8(n+48,0)}},"syscall/js.valueNew":n=>{n>>>=0;try{const c=d(n+8),R=A(n+16),w=Reflect.construct(c,R);n=this._inst.exports.getsp()>>>0,k(n+40,w),this.mem.setUint8(n+48,1)}catch(c){n=this._inst.exports.getsp()>>>0,k(n+40,c),this.mem.setUint8(n+48,0)}},"syscall/js.valueLength":n=>{n>>>=0,b(n+16,parseInt(d(n+8).length))},"syscall/js.valuePrepareString":n=>{n>>>=0;const c=v.encode(String(d(n+8)));k(n+16,c),b(n+24,c.length)},"syscall/js.valueLoadString":n=>{n>>>=0;const c=d(n+8);C(n+16).set(c)},"syscall/js.valueInstanceOf":n=>{n>>>=0,this.mem.setUint8(n+24,d(n+8)instanceof d(n+16)?1:0)},"syscall/js.copyBytesToGo":n=>{n>>>=0;const c=C(n+8),R=d(n+32);if(!(R instanceof Uint8Array||R instanceof Uint8ClampedArray)){this.mem.setUint8(n+48,0);return}const w=R.subarray(0,c.length);c.set(w),b(n+40,w.length),this.mem.setUint8(n+48,1)},"syscall/js.copyBytesToJS":n=>{n>>>=0;const c=d(n+8),R=C(n+16);if(!(c instanceof Uint8Array||c instanceof Uint8ClampedArray)){this.mem.setUint8(n+48,0);return}const w=R.subarray(0,c.length);c.set(w),b(n+40,w.length),this.mem.setUint8(n+48,1)},debug:n=>{console.log(n)}}}}async run(b){if(!(b instanceof WebAssembly.Instance))throw new Error("Go.run: WebAssembly.Instance expected");this._inst=b,this.mem=new DataView(this._inst.exports.mem.buffer),this._values=[NaN,0,null,!0,!1,globalThis,this],this._goRefCounts=new Array(this._values.length).fill(1/0),this._ids=new Map([[0,1],[null,2],[!0,3],[!1,4],[globalThis,5],[this,6]]),this._idPool=[],this.exited=!1;let h=4096;const d=n=>{const c=h,R=v.encode(n+"\0");return new Uint8Array(this.mem.buffer,h,R.length).set(R),h+=R.length,h%8!==0&&(h+=8-h%8),c},k=this.argv.length,C=[];this.argv.forEach(n=>{C.push(d(n))}),C.push(0),Object.keys(this.env).sort().forEach(n=>{C.push(d(`${n}=${this.env[n]}`))}),C.push(0);const I=h;if(C.forEach(n=>{this.mem.setUint32(h,n,!0),this.mem.setUint32(h+4,0,!0),h+=8}),h>=12288)throw new Error("total length of command line and environment variables exceeds limit");this._inst.exports.run(k,I),this.exited&&this._resolveExitPromise(),await this._exitPromise}_resume(){if(this.exited)throw new Error("Go program has already exited");this._inst.exports.resume(),this.exited&&this._resolveExitPromise()}_makeFuncWrapper(b){const h=this;return function(){const d={id:b,this:this,args:arguments};return h._pendingEvent=d,h._resume(),d.result}}}})();let Ye,je,qe,Xe,he,Ie,Qe;const Nt=()=>{Ye={ParseBuild:globalThis.go["go-pob"].builds.ParseBuild,ParseBuildStr:globalThis.go["go-pob"].builds.ParseBuildStr},je={InitializeDiskCache:globalThis.go["go-pob"].cache.InitializeDiskCache},qe={NewCalculator:globalThis.go["go-pob"].calculator.NewCalculator},Xe={InitLogging:globalThis.go["go-pob"].config.InitLogging},he={CalculateTreePath:globalThis.go["go-pob"].exposition.CalculateTreePath,GetRawTree:globalThis.go["go-pob"].exposition.GetRawTree,GetSkillGems:globalThis.go["go-pob"].exposition.GetSkillGems,GetStatByIndex:globalThis.go["go-pob"].exposition.GetStatByIndex},Ie={BuildInfo:globalThis.go["go-pob"].pob.BuildInfo,CompressEncode:globalThis.go["go-pob"].pob.CompressEncode,DecodeDecompress:globalThis.go["go-pob"].pob.DecodeDecompress},Qe={InitializeAll:globalThis.go["go-pob"].raw.InitializeAll}};var me=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mt(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function pe(s){throw new Error('Could not dynamically require "'+s+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var we={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var Ze;function Pt(){return Ze||(Ze=1,function(s,v){(function(f){s.exports=f()})(function(){return function f(b,h,d){function k(I,D){if(!h[I]){if(!b[I]){var n=typeof pe=="function"&&pe;if(!D&&n)return n(I,!0);if(C)return C(I,!0);var c=new Error("Cannot find module '"+I+"'");throw c.code="MODULE_NOT_FOUND",c}var R=h[I]={exports:{}};b[I][0].call(R.exports,function(w){var P=b[I][1][w];return k(P||w)},R,R.exports,f,b,h,d)}return h[I].exports}for(var C=typeof pe=="function"&&pe,A=0;A<d.length;A++)k(d[A]);return k}({1:[function(f,b,h){(function(d){var k=d.MutationObserver||d.WebKitMutationObserver,C;if(k){var A=0,I=new k(w),D=d.document.createTextNode("");I.observe(D,{characterData:!0}),C=function(){D.data=A=++A%2}}else if(!d.setImmediate&&typeof d.MessageChannel<"u"){var n=new d.MessageChannel;n.port1.onmessage=w,C=function(){n.port2.postMessage(0)}}else"document"in d&&"onreadystatechange"in d.document.createElement("script")?C=function(){var O=d.document.createElement("script");O.onreadystatechange=function(){w(),O.onreadystatechange=null,O.parentNode.removeChild(O),O=null},d.document.documentElement.appendChild(O)}:C=function(){setTimeout(w,0)};var c,R=[];function w(){c=!0;for(var O,K,G=R.length;G;){for(K=R,R=[],O=-1;++O<G;)K[O]();G=R.length}c=!1}b.exports=P;function P(O){R.push(O)===1&&!c&&C()}}).call(this,typeof me<"u"?me:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(f,b,h){var d=f(1);function k(){}var C={},A=["REJECTED"],I=["FULFILLED"],D=["PENDING"];b.exports=n;function n(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=D,this.queue=[],this.outcome=void 0,S!==k&&P(this,S)}n.prototype.catch=function(S){return this.then(null,S)},n.prototype.then=function(S,F){if(typeof S!="function"&&this.state===I||typeof F!="function"&&this.state===A)return this;var B=new this.constructor(k);if(this.state!==D){var M=this.state===I?S:F;R(B,M,this.outcome)}else this.queue.push(new c(B,S,F));return B};function c(S,F,B){this.promise=S,typeof F=="function"&&(this.onFulfilled=F,this.callFulfilled=this.otherCallFulfilled),typeof B=="function"&&(this.onRejected=B,this.callRejected=this.otherCallRejected)}c.prototype.callFulfilled=function(S){C.resolve(this.promise,S)},c.prototype.otherCallFulfilled=function(S){R(this.promise,this.onFulfilled,S)},c.prototype.callRejected=function(S){C.reject(this.promise,S)},c.prototype.otherCallRejected=function(S){R(this.promise,this.onRejected,S)};function R(S,F,B){d(function(){var M;try{M=F(B)}catch(x){return C.reject(S,x)}M===S?C.reject(S,new TypeError("Cannot resolve promise with itself")):C.resolve(S,M)})}C.resolve=function(S,F){var B=O(w,F);if(B.status==="error")return C.reject(S,B.value);var M=B.value;if(M)P(S,M);else{S.state=I,S.outcome=F;for(var x=-1,$=S.queue.length;++x<$;)S.queue[x].callFulfilled(F)}return S},C.reject=function(S,F){S.state=A,S.outcome=F;for(var B=-1,M=S.queue.length;++B<M;)S.queue[B].callRejected(F);return S};function w(S){var F=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof F=="function")return function(){F.apply(S,arguments)}}function P(S,F){var B=!1;function M(W){B||(B=!0,C.reject(S,W))}function x(W){B||(B=!0,C.resolve(S,W))}function $(){F(x,M)}var U=O($);U.status==="error"&&M(U.value)}function O(S,F){var B={};try{B.value=S(F),B.status="success"}catch(M){B.status="error",B.value=M}return B}n.resolve=K;function K(S){return S instanceof this?S:C.resolve(new this(k),S)}n.reject=G;function G(S){var F=new this(k);return C.reject(F,S)}n.all=Te;function Te(S){var F=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var B=S.length,M=!1;if(!B)return this.resolve([]);for(var x=new Array(B),$=0,U=-1,W=new this(k);++U<B;)Y(S[U],U);return W;function Y(oe,ge){F.resolve(oe).then(Be,function(ae){M||(M=!0,C.reject(W,ae))});function Be(ae){x[ge]=ae,++$===B&&!M&&(M=!0,C.resolve(W,x))}}}n.race=ee;function ee(S){var F=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var B=S.length,M=!1;if(!B)return this.resolve([]);for(var x=-1,$=new this(k);++x<B;)U(S[x]);return $;function U(W){F.resolve(W).then(function(Y){M||(M=!0,C.resolve($,Y))},function(Y){M||(M=!0,C.reject($,Y))})}}},{1:1}],3:[function(f,b,h){(function(d){typeof d.Promise!="function"&&(d.Promise=f(2))}).call(this,typeof me<"u"?me:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(f,b,h){var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function k(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function C(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var A=C();function I(){try{if(!A||!A.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),a=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||a)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function D(e,a){e=e||[],a=a||{};try{return new Blob(e,a)}catch(i){if(i.name!=="TypeError")throw i;for(var t=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,o=new t,r=0;r<e.length;r+=1)o.append(e[r]);return o.getBlob(a.type)}}typeof Promise>"u"&&f(3);var n=Promise;function c(e,a){a&&e.then(function(t){a(null,t)},function(t){a(t)})}function R(e,a,t){typeof a=="function"&&e.then(a),typeof t=="function"&&e.catch(t)}function w(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function P(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var O="local-forage-detect-blob-support",K=void 0,G={},Te=Object.prototype.toString,ee="readonly",S="readwrite";function F(e){for(var a=e.length,t=new ArrayBuffer(a),o=new Uint8Array(t),r=0;r<a;r++)o[r]=e.charCodeAt(r);return t}function B(e){return new n(function(a){var t=e.transaction(O,S),o=D([""]);t.objectStore(O).put(o,"key"),t.onabort=function(r){r.preventDefault(),r.stopPropagation(),a(!1)},t.oncomplete=function(){var r=navigator.userAgent.match(/Chrome\/(\d+)/),i=navigator.userAgent.match(/Edge\//);a(i||!r||parseInt(r[1],10)>=43)}}).catch(function(){return!1})}function M(e){return typeof K=="boolean"?n.resolve(K):B(e).then(function(a){return K=a,K})}function x(e){var a=G[e.name],t={};t.promise=new n(function(o,r){t.resolve=o,t.reject=r}),a.deferredOperations.push(t),a.dbReady?a.dbReady=a.dbReady.then(function(){return t.promise}):a.dbReady=t.promise}function $(e){var a=G[e.name],t=a.deferredOperations.pop();if(t)return t.resolve(),t.promise}function U(e,a){var t=G[e.name],o=t.deferredOperations.pop();if(o)return o.reject(a),o.promise}function W(e,a){return new n(function(t,o){if(G[e.name]=G[e.name]||nt(),e.db)if(a)x(e),e.db.close();else return t(e.db);var r=[e.name];a&&r.push(e.version);var i=A.open.apply(A,r);a&&(i.onupgradeneeded=function(u){var y=i.result;try{y.createObjectStore(e.storeName),u.oldVersion<=1&&y.createObjectStore(O)}catch(m){if(m.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+u.oldVersion+" to version "+u.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw m}}),i.onerror=function(u){u.preventDefault(),o(i.error)},i.onsuccess=function(){var u=i.result;u.onversionchange=function(y){y.target.close()},t(u),$(e)}})}function Y(e){return W(e,!1)}function oe(e){return W(e,!0)}function ge(e,a){if(!e.db)return!0;var t=!e.db.objectStoreNames.contains(e.storeName),o=e.version<e.db.version,r=e.version>e.db.version;if(o&&(e.version!==a&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),r||t){if(t){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function Be(e){return new n(function(a,t){var o=new FileReader;o.onerror=t,o.onloadend=function(r){var i=btoa(r.target.result||"");a({__local_forage_encoded_blob:!0,data:i,type:e.type})},o.readAsBinaryString(e)})}function ae(e){var a=F(atob(e.data));return D([a],{type:e.type})}function tt(e){return e&&e.__local_forage_encoded_blob}function Gt(e){var a=this,t=a._initReady().then(function(){var o=G[a._dbInfo.name];if(o&&o.dbReady)return o.dbReady});return R(t,e,e),t}function xt(e){x(e);for(var a=G[e.name],t=a.forages,o=0;o<t.length;o++){var r=t[o];r._dbInfo.db&&(r._dbInfo.db.close(),r._dbInfo.db=null)}return e.db=null,Y(e).then(function(i){return e.db=i,ge(e)?oe(e):i}).then(function(i){e.db=a.db=i;for(var u=0;u<t.length;u++)t[u]._dbInfo.db=i}).catch(function(i){throw U(e,i),i})}function j(e,a,t,o){o===void 0&&(o=1);try{var r=e.db.transaction(e.storeName,a);t(null,r)}catch(i){if(o>0&&(!e.db||i.name==="InvalidStateError"||i.name==="NotFoundError"))return n.resolve().then(function(){if(!e.db||i.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),oe(e)}).then(function(){return xt(e).then(function(){j(e,a,t,o-1)})}).catch(t);t(i)}}function nt(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function $t(e){var a=this,t={db:null};if(e)for(var o in e)t[o]=e[o];var r=G[t.name];r||(r=nt(),G[t.name]=r),r.forages.push(a),a._initReady||(a._initReady=a.ready,a.ready=Gt);var i=[];function u(){return n.resolve()}for(var y=0;y<r.forages.length;y++){var m=r.forages[y];m!==a&&i.push(m._initReady().catch(u))}var p=r.forages.slice(0);return n.all(i).then(function(){return t.db=r.db,Y(t)}).then(function(g){return t.db=g,ge(t,a._defaultConfig.version)?oe(t):g}).then(function(g){t.db=r.db=g,a._dbInfo=t;for(var E=0;E<p.length;E++){var T=p[E];T!==a&&(T._dbInfo.db=t.db,T._dbInfo.version=t.version)}})}function Ut(e,a){var t=this;e=w(e);var o=new n(function(r,i){t.ready().then(function(){j(t._dbInfo,ee,function(u,y){if(u)return i(u);try{var m=y.objectStore(t._dbInfo.storeName),p=m.get(e);p.onsuccess=function(){var g=p.result;g===void 0&&(g=null),tt(g)&&(g=ae(g)),r(g)},p.onerror=function(){i(p.error)}}catch(g){i(g)}})}).catch(i)});return c(o,a),o}function Wt(e,a){var t=this,o=new n(function(r,i){t.ready().then(function(){j(t._dbInfo,ee,function(u,y){if(u)return i(u);try{var m=y.objectStore(t._dbInfo.storeName),p=m.openCursor(),g=1;p.onsuccess=function(){var E=p.result;if(E){var T=E.value;tt(T)&&(T=ae(T));var L=e(T,E.key,g++);L!==void 0?r(L):E.continue()}else r()},p.onerror=function(){i(p.error)}}catch(E){i(E)}})}).catch(i)});return c(o,a),o}function Vt(e,a,t){var o=this;e=w(e);var r=new n(function(i,u){var y;o.ready().then(function(){return y=o._dbInfo,Te.call(a)==="[object Blob]"?M(y.db).then(function(m){return m?a:Be(a)}):a}).then(function(m){j(o._dbInfo,S,function(p,g){if(p)return u(p);try{var E=g.objectStore(o._dbInfo.storeName);m===null&&(m=void 0);var T=E.put(m,e);g.oncomplete=function(){m===void 0&&(m=null),i(m)},g.onabort=g.onerror=function(){var L=T.error?T.error:T.transaction.error;u(L)}}catch(L){u(L)}})}).catch(u)});return c(r,t),r}function zt(e,a){var t=this;e=w(e);var o=new n(function(r,i){t.ready().then(function(){j(t._dbInfo,S,function(u,y){if(u)return i(u);try{var m=y.objectStore(t._dbInfo.storeName),p=m.delete(e);y.oncomplete=function(){r()},y.onerror=function(){i(p.error)},y.onabort=function(){var g=p.error?p.error:p.transaction.error;i(g)}}catch(g){i(g)}})}).catch(i)});return c(o,a),o}function Kt(e){var a=this,t=new n(function(o,r){a.ready().then(function(){j(a._dbInfo,S,function(i,u){if(i)return r(i);try{var y=u.objectStore(a._dbInfo.storeName),m=y.clear();u.oncomplete=function(){o()},u.onabort=u.onerror=function(){var p=m.error?m.error:m.transaction.error;r(p)}}catch(p){r(p)}})}).catch(r)});return c(t,e),t}function Yt(e){var a=this,t=new n(function(o,r){a.ready().then(function(){j(a._dbInfo,ee,function(i,u){if(i)return r(i);try{var y=u.objectStore(a._dbInfo.storeName),m=y.count();m.onsuccess=function(){o(m.result)},m.onerror=function(){r(m.error)}}catch(p){r(p)}})}).catch(r)});return c(t,e),t}function jt(e,a){var t=this,o=new n(function(r,i){if(e<0){r(null);return}t.ready().then(function(){j(t._dbInfo,ee,function(u,y){if(u)return i(u);try{var m=y.objectStore(t._dbInfo.storeName),p=!1,g=m.openKeyCursor();g.onsuccess=function(){var E=g.result;if(!E){r(null);return}e===0||p?r(E.key):(p=!0,E.advance(e))},g.onerror=function(){i(g.error)}}catch(E){i(E)}})}).catch(i)});return c(o,a),o}function qt(e){var a=this,t=new n(function(o,r){a.ready().then(function(){j(a._dbInfo,ee,function(i,u){if(i)return r(i);try{var y=u.objectStore(a._dbInfo.storeName),m=y.openKeyCursor(),p=[];m.onsuccess=function(){var g=m.result;if(!g){o(p);return}p.push(g.key),g.continue()},m.onerror=function(){r(m.error)}}catch(g){r(g)}})}).catch(r)});return c(t,e),t}function Xt(e,a){a=P.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var o=this,r;if(!e.name)r=n.reject("Invalid arguments");else{var i=e.name===t.name&&o._dbInfo.db,u=i?n.resolve(o._dbInfo.db):Y(e).then(function(y){var m=G[e.name],p=m.forages;m.db=y;for(var g=0;g<p.length;g++)p[g]._dbInfo.db=y;return y});e.storeName?r=u.then(function(y){if(y.objectStoreNames.contains(e.storeName)){var m=y.version+1;x(e);var p=G[e.name],g=p.forages;y.close();for(var E=0;E<g.length;E++){var T=g[E];T._dbInfo.db=null,T._dbInfo.version=m}var L=new n(function(N,_){var H=A.open(e.name,m);H.onerror=function(V){var re=H.result;re.close(),_(V)},H.onupgradeneeded=function(){var V=H.result;V.deleteObjectStore(e.storeName)},H.onsuccess=function(){var V=H.result;V.close(),N(V)}});return L.then(function(N){p.db=N;for(var _=0;_<g.length;_++){var H=g[_];H._dbInfo.db=N,$(H._dbInfo)}}).catch(function(N){throw(U(e,N)||n.resolve()).catch(function(){}),N})}}):r=u.then(function(y){x(e);var m=G[e.name],p=m.forages;y.close();for(var g=0;g<p.length;g++){var E=p[g];E._dbInfo.db=null}var T=new n(function(L,N){var _=A.deleteDatabase(e.name);_.onerror=function(){var H=_.result;H&&H.close(),N(_.error)},_.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},_.onsuccess=function(){var H=_.result;H&&H.close(),L(H)}});return T.then(function(L){m.db=L;for(var N=0;N<p.length;N++){var _=p[N];$(_._dbInfo)}}).catch(function(L){throw(U(e,L)||n.resolve()).catch(function(){}),L})})}return c(r,a),r}var Qt={_driver:"asyncStorage",_initStorage:$t,_support:I(),iterate:Wt,getItem:Ut,setItem:Vt,removeItem:zt,clear:Kt,length:Yt,key:jt,keys:qt,dropInstance:Xt};function Zt(){return typeof openDatabase=="function"}var Q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Jt="~~local_forage_type~",at=/^~~local_forage_type~([^~]+)~/,be="__lfsc__:",De=be.length,Fe="arbf",Le="blob",it="si08",ot="ui08",lt="uic8",rt="si16",st="si32",ct="ur16",ut="ui32",dt="fl32",ft="fl64",yt=De+Fe.length,ht=Object.prototype.toString;function mt(e){var a=e.length*.75,t=e.length,o,r=0,i,u,y,m;e[e.length-1]==="="&&(a--,e[e.length-2]==="="&&a--);var p=new ArrayBuffer(a),g=new Uint8Array(p);for(o=0;o<t;o+=4)i=Q.indexOf(e[o]),u=Q.indexOf(e[o+1]),y=Q.indexOf(e[o+2]),m=Q.indexOf(e[o+3]),g[r++]=i<<2|u>>4,g[r++]=(u&15)<<4|y>>2,g[r++]=(y&3)<<6|m&63;return p}function Ne(e){var a=new Uint8Array(e),t="",o;for(o=0;o<a.length;o+=3)t+=Q[a[o]>>2],t+=Q[(a[o]&3)<<4|a[o+1]>>4],t+=Q[(a[o+1]&15)<<2|a[o+2]>>6],t+=Q[a[o+2]&63];return a.length%3===2?t=t.substring(0,t.length-1)+"=":a.length%3===1&&(t=t.substring(0,t.length-2)+"=="),t}function en(e,a){var t="";if(e&&(t=ht.call(e)),e&&(t==="[object ArrayBuffer]"||e.buffer&&ht.call(e.buffer)==="[object ArrayBuffer]")){var o,r=be;e instanceof ArrayBuffer?(o=e,r+=Fe):(o=e.buffer,t==="[object Int8Array]"?r+=it:t==="[object Uint8Array]"?r+=ot:t==="[object Uint8ClampedArray]"?r+=lt:t==="[object Int16Array]"?r+=rt:t==="[object Uint16Array]"?r+=ct:t==="[object Int32Array]"?r+=st:t==="[object Uint32Array]"?r+=ut:t==="[object Float32Array]"?r+=dt:t==="[object Float64Array]"?r+=ft:a(new Error("Failed to get type for BinaryArray"))),a(r+Ne(o))}else if(t==="[object Blob]"){var i=new FileReader;i.onload=function(){var u=Jt+e.type+"~"+Ne(this.result);a(be+Le+u)},i.readAsArrayBuffer(e)}else try{a(JSON.stringify(e))}catch(u){console.error("Couldn't convert value into a JSON string: ",e),a(null,u)}}function tn(e){if(e.substring(0,De)!==be)return JSON.parse(e);var a=e.substring(yt),t=e.substring(De,yt),o;if(t===Le&&at.test(a)){var r=a.match(at);o=r[1],a=a.substring(r[0].length)}var i=mt(a);switch(t){case Fe:return i;case Le:return D([i],{type:o});case it:return new Int8Array(i);case ot:return new Uint8Array(i);case lt:return new Uint8ClampedArray(i);case rt:return new Int16Array(i);case ct:return new Uint16Array(i);case st:return new Int32Array(i);case ut:return new Uint32Array(i);case dt:return new Float32Array(i);case ft:return new Float64Array(i);default:throw new Error("Unkown type: "+t)}}var Me={serialize:en,deserialize:tn,stringToBuffer:mt,bufferToString:Ne};function pt(e,a,t,o){e.executeSql("CREATE TABLE IF NOT EXISTS "+a.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],t,o)}function nn(e){var a=this,t={db:null};if(e)for(var o in e)t[o]=typeof e[o]!="string"?e[o].toString():e[o];var r=new n(function(i,u){try{t.db=openDatabase(t.name,String(t.version),t.description,t.size)}catch(y){return u(y)}t.db.transaction(function(y){pt(y,t,function(){a._dbInfo=t,i()},function(m,p){u(p)})},u)});return t.serializer=Me,r}function Z(e,a,t,o,r,i){e.executeSql(t,o,r,function(u,y){y.code===y.SYNTAX_ERR?u.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[a.storeName],function(m,p){p.rows.length?i(m,y):pt(m,a,function(){m.executeSql(t,o,r,i)},i)},i):i(u,y)},i)}function an(e,a){var t=this;e=w(e);var o=new n(function(r,i){t.ready().then(function(){var u=t._dbInfo;u.db.transaction(function(y){Z(y,u,"SELECT * FROM "+u.storeName+" WHERE key = ? LIMIT 1",[e],function(m,p){var g=p.rows.length?p.rows.item(0).value:null;g&&(g=u.serializer.deserialize(g)),r(g)},function(m,p){i(p)})})}).catch(i)});return c(o,a),o}function on(e,a){var t=this,o=new n(function(r,i){t.ready().then(function(){var u=t._dbInfo;u.db.transaction(function(y){Z(y,u,"SELECT * FROM "+u.storeName,[],function(m,p){for(var g=p.rows,E=g.length,T=0;T<E;T++){var L=g.item(T),N=L.value;if(N&&(N=u.serializer.deserialize(N)),N=e(N,L.key,T+1),N!==void 0){r(N);return}}r()},function(m,p){i(p)})})}).catch(i)});return c(o,a),o}function vt(e,a,t,o){var r=this;e=w(e);var i=new n(function(u,y){r.ready().then(function(){a===void 0&&(a=null);var m=a,p=r._dbInfo;p.serializer.serialize(a,function(g,E){E?y(E):p.db.transaction(function(T){Z(T,p,"INSERT OR REPLACE INTO "+p.storeName+" (key, value) VALUES (?, ?)",[e,g],function(){u(m)},function(L,N){y(N)})},function(T){if(T.code===T.QUOTA_ERR){if(o>0){u(vt.apply(r,[e,m,t,o-1]));return}y(T)}})})}).catch(y)});return c(i,t),i}function ln(e,a,t){return vt.apply(this,[e,a,t,1])}function rn(e,a){var t=this;e=w(e);var o=new n(function(r,i){t.ready().then(function(){var u=t._dbInfo;u.db.transaction(function(y){Z(y,u,"DELETE FROM "+u.storeName+" WHERE key = ?",[e],function(){r()},function(m,p){i(p)})})}).catch(i)});return c(o,a),o}function sn(e){var a=this,t=new n(function(o,r){a.ready().then(function(){var i=a._dbInfo;i.db.transaction(function(u){Z(u,i,"DELETE FROM "+i.storeName,[],function(){o()},function(y,m){r(m)})})}).catch(r)});return c(t,e),t}function cn(e){var a=this,t=new n(function(o,r){a.ready().then(function(){var i=a._dbInfo;i.db.transaction(function(u){Z(u,i,"SELECT COUNT(key) as c FROM "+i.storeName,[],function(y,m){var p=m.rows.item(0).c;o(p)},function(y,m){r(m)})})}).catch(r)});return c(t,e),t}function un(e,a){var t=this,o=new n(function(r,i){t.ready().then(function(){var u=t._dbInfo;u.db.transaction(function(y){Z(y,u,"SELECT key FROM "+u.storeName+" WHERE id = ? LIMIT 1",[e+1],function(m,p){var g=p.rows.length?p.rows.item(0).key:null;r(g)},function(m,p){i(p)})})}).catch(i)});return c(o,a),o}function dn(e){var a=this,t=new n(function(o,r){a.ready().then(function(){var i=a._dbInfo;i.db.transaction(function(u){Z(u,i,"SELECT key FROM "+i.storeName,[],function(y,m){for(var p=[],g=0;g<m.rows.length;g++)p.push(m.rows.item(g).key);o(p)},function(y,m){r(m)})})}).catch(r)});return c(t,e),t}function fn(e){return new n(function(a,t){e.transaction(function(o){o.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(r,i){for(var u=[],y=0;y<i.rows.length;y++)u.push(i.rows.item(y).name);a({db:e,storeNames:u})},function(r,i){t(i)})},function(o){t(o)})})}function yn(e,a){a=P.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var o=this,r;return e.name?r=new n(function(i){var u;e.name===t.name?u=o._dbInfo.db:u=openDatabase(e.name,"","",0),e.storeName?i({db:u,storeNames:[e.storeName]}):i(fn(u))}).then(function(i){return new n(function(u,y){i.db.transaction(function(m){function p(L){return new n(function(N,_){m.executeSql("DROP TABLE IF EXISTS "+L,[],function(){N()},function(H,V){_(V)})})}for(var g=[],E=0,T=i.storeNames.length;E<T;E++)g.push(p(i.storeNames[E]));n.all(g).then(function(){u()}).catch(function(L){y(L)})},function(m){y(m)})})}):r=n.reject("Invalid arguments"),c(r,a),r}var hn={_driver:"webSQLStorage",_initStorage:nn,_support:Zt(),iterate:on,getItem:an,setItem:ln,removeItem:rn,clear:sn,length:cn,key:un,keys:dn,dropInstance:yn};function mn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function gt(e,a){var t=e.name+"/";return e.storeName!==a.storeName&&(t+=e.storeName+"/"),t}function pn(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function vn(){return!pn()||localStorage.length>0}function gn(e){var a=this,t={};if(e)for(var o in e)t[o]=e[o];return t.keyPrefix=gt(e,a._defaultConfig),vn()?(a._dbInfo=t,t.serializer=Me,n.resolve()):n.reject()}function bn(e){var a=this,t=a.ready().then(function(){for(var o=a._dbInfo.keyPrefix,r=localStorage.length-1;r>=0;r--){var i=localStorage.key(r);i.indexOf(o)===0&&localStorage.removeItem(i)}});return c(t,e),t}function Cn(e,a){var t=this;e=w(e);var o=t.ready().then(function(){var r=t._dbInfo,i=localStorage.getItem(r.keyPrefix+e);return i&&(i=r.serializer.deserialize(i)),i});return c(o,a),o}function Sn(e,a){var t=this,o=t.ready().then(function(){for(var r=t._dbInfo,i=r.keyPrefix,u=i.length,y=localStorage.length,m=1,p=0;p<y;p++){var g=localStorage.key(p);if(g.indexOf(i)===0){var E=localStorage.getItem(g);if(E&&(E=r.serializer.deserialize(E)),E=e(E,g.substring(u),m++),E!==void 0)return E}}});return c(o,a),o}function kn(e,a){var t=this,o=t.ready().then(function(){var r=t._dbInfo,i;try{i=localStorage.key(e)}catch{i=null}return i&&(i=i.substring(r.keyPrefix.length)),i});return c(o,a),o}function En(e){var a=this,t=a.ready().then(function(){for(var o=a._dbInfo,r=localStorage.length,i=[],u=0;u<r;u++){var y=localStorage.key(u);y.indexOf(o.keyPrefix)===0&&i.push(y.substring(o.keyPrefix.length))}return i});return c(t,e),t}function Rn(e){var a=this,t=a.keys().then(function(o){return o.length});return c(t,e),t}function In(e,a){var t=this;e=w(e);var o=t.ready().then(function(){var r=t._dbInfo;localStorage.removeItem(r.keyPrefix+e)});return c(o,a),o}function wn(e,a,t){var o=this;e=w(e);var r=o.ready().then(function(){a===void 0&&(a=null);var i=a;return new n(function(u,y){var m=o._dbInfo;m.serializer.serialize(a,function(p,g){if(g)y(g);else try{localStorage.setItem(m.keyPrefix+e,p),u(i)}catch(E){(E.name==="QuotaExceededError"||E.name==="NS_ERROR_DOM_QUOTA_REACHED")&&y(E),y(E)}})})});return c(r,t),r}function An(e,a){if(a=P.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var t=this.config();e.name=e.name||t.name,e.storeName=e.storeName||t.storeName}var o=this,r;return e.name?r=new n(function(i){e.storeName?i(gt(e,o._defaultConfig)):i(e.name+"/")}).then(function(i){for(var u=localStorage.length-1;u>=0;u--){var y=localStorage.key(u);y.indexOf(i)===0&&localStorage.removeItem(y)}}):r=n.reject("Invalid arguments"),c(r,a),r}var Tn={_driver:"localStorageWrapper",_initStorage:gn,_support:mn(),iterate:Sn,getItem:Cn,setItem:wn,removeItem:In,clear:bn,length:Rn,key:kn,keys:En,dropInstance:An},Bn=function(a,t){return a===t||typeof a=="number"&&typeof t=="number"&&isNaN(a)&&isNaN(t)},Dn=function(a,t){for(var o=a.length,r=0;r<o;){if(Bn(a[r],t))return!0;r++}return!1},bt=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},le={},Ct={},ie={INDEXEDDB:Qt,WEBSQL:hn,LOCALSTORAGE:Tn},Fn=[ie.INDEXEDDB._driver,ie.WEBSQL._driver,ie.LOCALSTORAGE._driver],Ce=["dropInstance"],Pe=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ce),Ln={description:"",driver:Fn.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Nn(e,a){e[a]=function(){var t=arguments;return e.ready().then(function(){return e[a].apply(e,t)})}}function He(){for(var e=1;e<arguments.length;e++){var a=arguments[e];if(a)for(var t in a)a.hasOwnProperty(t)&&(bt(a[t])?arguments[0][t]=a[t].slice():arguments[0][t]=a[t])}return arguments[0]}var Mn=function(){function e(a){k(this,e);for(var t in ie)if(ie.hasOwnProperty(t)){var o=ie[t],r=o._driver;this[t]=r,le[r]||this.defineDriver(o)}this._defaultConfig=He({},Ln),this._config=He({},this._defaultConfig,a),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(t){if((typeof t>"u"?"undefined":d(t))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var o in t){if(o==="storeName"&&(t[o]=t[o].replace(/\W/g,"_")),o==="version"&&typeof t[o]!="number")return new Error("Database version must be a number.");this._config[o]=t[o]}return"driver"in t&&t.driver?this.setDriver(this._config.driver):!0}else return typeof t=="string"?this._config[t]:this._config},e.prototype.defineDriver=function(t,o,r){var i=new n(function(u,y){try{var m=t._driver,p=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver){y(p);return}for(var g=Pe.concat("_initStorage"),E=0,T=g.length;E<T;E++){var L=g[E],N=!Dn(Ce,L);if((N||t[L])&&typeof t[L]!="function"){y(p);return}}var _=function(){for(var re=function(_n){return function(){var On=new Error("Method "+_n+" is not implemented by the current driver"),St=n.reject(On);return c(St,arguments[arguments.length-1]),St}},_e=0,Hn=Ce.length;_e<Hn;_e++){var Oe=Ce[_e];t[Oe]||(t[Oe]=re(Oe))}};_();var H=function(re){le[m]&&console.info("Redefining LocalForage driver: "+m),le[m]=t,Ct[m]=re,u()};"_support"in t?t._support&&typeof t._support=="function"?t._support().then(H,y):H(!!t._support):H(!0)}catch(V){y(V)}});return R(i,o,r),i},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(t,o,r){var i=le[t]?n.resolve(le[t]):n.reject(new Error("Driver not found."));return R(i,o,r),i},e.prototype.getSerializer=function(t){var o=n.resolve(Me);return R(o,t),o},e.prototype.ready=function(t){var o=this,r=o._driverSet.then(function(){return o._ready===null&&(o._ready=o._initDriver()),o._ready});return R(r,t,t),r},e.prototype.setDriver=function(t,o,r){var i=this;bt(t)||(t=[t]);var u=this._getSupportedDrivers(t);function y(){i._config.driver=i.driver()}function m(E){return i._extend(E),y(),i._ready=i._initStorage(i._config),i._ready}function p(E){return function(){var T=0;function L(){for(;T<E.length;){var N=E[T];return T++,i._dbInfo=null,i._ready=null,i.getDriver(N).then(m).catch(L)}y();var _=new Error("No available storage method found.");return i._driverSet=n.reject(_),i._driverSet}return L()}}var g=this._driverSet!==null?this._driverSet.catch(function(){return n.resolve()}):n.resolve();return this._driverSet=g.then(function(){var E=u[0];return i._dbInfo=null,i._ready=null,i.getDriver(E).then(function(T){i._driver=T._driver,y(),i._wrapLibraryMethodsWithReady(),i._initDriver=p(u)})}).catch(function(){y();var E=new Error("No available storage method found.");return i._driverSet=n.reject(E),i._driverSet}),R(this._driverSet,o,r),this._driverSet},e.prototype.supports=function(t){return!!Ct[t]},e.prototype._extend=function(t){He(this,t)},e.prototype._getSupportedDrivers=function(t){for(var o=[],r=0,i=t.length;r<i;r++){var u=t[r];this.supports(u)&&o.push(u)}return o},e.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,o=Pe.length;t<o;t++)Nn(this,Pe[t])},e.prototype.createInstance=function(t){return new e(t)},e}(),Pn=new Mn;b.exports=Pn},{3:3}]},{},[4])(4)})}(we)),we.exports}var Ht=Pt(),Ae=Mt(Ht);const Je=s=>{if(typeof s!="object"||s===null)return s;const v=structuredClone(s);for(const f of Object.getOwnPropertyNames(s)){let b=s[f];if(typeof b=="object")b=Je(b);else if(typeof b=="function"||typeof b=="symbol")continue;v[f]=b}return v},ve={NORMAL:"#C8C8C8",MAGIC:"#8888FF",RARE:"#FFFF77",UNIQUE:"#AF6025",RELIC:"#60C060",GEM:"#1AA29B",PROPHECY:"#B54BFF",CURRENCY:"#AA9E82",CRAFTED:"#B8DAF1",CUSTOM:"#5CF0BB",SOURCE:"#88FFFF",UNSUPPORTED:"#F05050",WARNING:"#FF9922",TIP:"#80A080",FIRE:"#B97123",COLD:"#3F6DB3",LIGHTNING:"#ADAA47",CHAOS:"#D02090",POSITIVE:"#33FF77",NEGATIVE:"#DD0022",OFFENCE:"#E07030",DEFENCE:"#8080E0",SCION:"#FFF0F0",MARAUDER:"#E05030",RANGER:"#70FF70",WITCH:"#7070FF",DUELIST:"#E0E070",TEMPLAR:"#C040FF",SHADOW:"#30C0D0",MAINHAND:"#50FF50",MAINHANDBG:"#071907",OFFHAND:"#B7B7FF",OFFHANDBG:"#070719",SHAPER:"#55BBFF",ELDER:"#AA77CC",FRACTURED:"#A29160",ADJUDICATOR:"#E9F831",BASILISK:"#00CB3A",CRUSADER:"#2946FC",EYRIE:"#AAB7B8",CLEANSING:"#F24141",TANGLE:"#038C8C",CHILLBG:"#151e26",FREEZEBG:"#0c262b",SHOCKBG:"#191732",SCORCHBG:"#270b00",BRITTLEBG:"#00122b",SAPBG:"#261500",SCOURGE:"#FF6E25",GRAY:"#9F9F9F",WHITE:"#FFFFFF"},X={...ve,STRENGTH:ve.MARAUDER,DEXTERITY:ve.RANGER,INTELLIGENCE:ve.WITCH},l={...X,LIFE:X.MARAUDER,MANA:X.WITCH,ES:X.SOURCE,WARD:X.RARE,EVASION:X.POSITIVE,RAGE:X.WARNING,PHYS:X.NORMAL},et=()=>"",_t=[{name:"General",variables:[{var:"resistancePenalty",type:"list",label:"Resistance penalty:",list:[{value:0,label:"None"},{value:-30,label:"Act 5 (-30%)"},{value:-60,label:"Act 10 (-60%)"}]},{var:"bandit",type:"list",label:"Bandit quest:",tooltipFunc:()=>"",list:[{value:"None",label:"Kill all"},{value:"Oak",label:"Help Oak"},{value:"Kraityn",label:"Help Kraityn"},{value:"Alira",label:"Help Alira"}]},{var:"pantheonMajorGod",type:"list",label:"Major God:",tooltipFunc:et,list:[{label:"Nothing",value:"None"},{label:"Soul of the Brine King",value:"TheBrineKing"},{label:"Soul of Lunaris",value:"Lunaris"},{label:"Soul of Solaris",value:"Solaris"},{label:"Soul of Arakaali",value:"Arakaali"}]},{var:"pantheonMinorGod",type:"list",label:"Minor God:",tooltipFunc:et,list:[{label:"Nothing",value:"None"},{label:"Soul of Gruthkul",value:"Gruthkul"},{label:"Soul of Yugul",value:"Yugul"},{label:"Soul of Abberath",value:"Abberath"},{label:"Soul of Tukohama",value:"Tukohama"},{label:"Soul of Garukhan",value:"Garukhan"},{label:"Soul of Ralakesh",value:"Ralakesh"},{label:"Soul of Ryslatha",value:"Ryslatha"},{label:"Soul of Shakari",value:"Shakari"}]},{var:"detonateDeadCorpseLife",type:"count",label:`Enemy Corpse ^${l.LIFE}Life^#:`,tooltip:`Sets the maximum ^${l.LIFE}life ^#of the target corpse for Detonate Dead and similar skills.
For reference, a level 70 monster has 6937 base ^${l.LIFE}life^#, and a level 80 monster has 12787.`},{var:"conditionStationary",type:"count",label:"Time spent stationary",ifCond:"Stationary",tooltip:"Applies mods that use `while stationary` and `per / every second while stationary`"},{var:"conditionMoving",type:"check",label:"Are you always moving?",ifCond:"Moving"},{var:"conditionInsane",type:"check",label:"Are you insane?",ifCond:"Insane"},{var:"conditionFullLife",type:"check",label:`Are you always on Full ^${l.LIFE}Life^#?`,ifCond:"FullLife",tooltip:`You will automatically be considered to be on Full ^${l.LIFE}Life ^#if you have Chaos Inoculation,
but you can use this option to force it if necessary.`},{var:"conditionLowLife",type:"check",label:`Are you always on Low ^${l.LIFE}Life^#?`,ifCond:"LowLife",tooltip:`You will automatically be considered to be on Low ^${l.LIFE}Life ^#if you have at least 50% ^${l.LIFE}life ^#reserved,
but you can use this option to force it if necessary.`},{var:"conditionFullMana",type:"check",label:`Are you always on Full ^${l.MANA}Mana^#?`,ifCond:"FullMana"},{var:"conditionLowMana",type:"check",label:`Are you always on Low ^${l.MANA}Mana^#?`,ifCond:"LowMana",tooltip:`You will automatically be considered to be on Low ^${l.MANA}Mana ^#if you have at least 50% ^${l.MANA}mana ^#reserved,
but you can use this option to force it if necessary.`},{var:"conditionFullEnergyShield",type:"check",label:`Are you always on Full ^${l.ES}Energy Shield^#?`,ifCond:"FullEnergyShield"},{var:"conditionLowEnergyShield",type:"check",label:`Are you always on Low ^${l.ES}Energy Shield^#?`,ifCond:"LowEnergyShield",tooltip:`You will automatically be considered to be on Low ^${l.ES}Energy Shield ^#if you have at least 50% ^${l.ES}ES ^#reserved,
but you can use this option to force it if necessary.`},{var:"conditionHaveEnergyShield",type:"check",label:`Do you always have ^${l.ES}Energy Shield^#?`,ifCond:"HaveEnergyShield"},{var:"minionsConditionFullLife",type:"check",label:`Are your Minions always on Full ^${l.LIFE}Life^#?`,ifMinionCond:"FullLife"},{var:"minionsConditionCreatedRecently",type:"check",label:"Have your Minions been created Recently?",ifCond:"MinionsCreatedRecently"},{var:"igniteMode",type:"list",label:"Ailment calculation mode:",tooltip:`Controls how the base damage for applying Ailments is calculated:
	Average: damage is based on the average application, including both crits and non-crits
	Crits Only: damage is based solely on Ailments inflicted with crits`,list:[{value:"AVERAGE",label:"Average"},{value:"CRIT",label:"Crits Only"}]},{var:"physMode",type:"list",label:"Random element mode:",ifFlag:"randomPhys",tooltip:`Controls how modifiers which choose a random element will function.
	Average: Modifiers will grant one third of their value to ^${l.FIRE}Fire^#, ^${l.COLD}Cold^#, and ^${l.LIGHTNING}Lightning ^#simultaneously
	^${l.FIRE}Fire ^#/ ^${l.COLD}Cold ^#/ ^${l.LIGHTNING}Lightning^#: Modifiers will grant their full value as the specified element
If a modifier chooses between just two elements, the full value can only be given as those two elements.`,list:[{value:"AVERAGE",label:"Average"},{value:"Fire",label:`^${l.FIRE}Fire^#`},{value:"Cold",label:`^${l.COLD}Cold^#`},{value:"Lightning",label:`^${l.LIGHTNING}Lightning^#`}]},{var:"lifeRegenMode",type:"list",label:`^${l.LIFE}Life ^#regen calculation mode:`,tooltip:`Controls how ^${l.LIFE}life ^#regeneration is calculated:
	Minimum: does not include burst regen
	Average: includes burst regen, averaged based on uptime
	Burst: includes full burst regen`,list:[{value:"MIN",label:"Minimum"},{value:"AVERAGE",label:"Average"},{value:"FULL",label:"Burst"}]},{var:"EHPUnluckyWorstOf",type:"list",label:"EHP calc unlucky:",tooltip:"Sets the EHP calc to pretend its unlucky and reduce the effects of random events",list:[{value:1,label:"Average"},{value:2,label:"Unlucky"},{value:4,label:"Very Unlucky"}]},{var:"DisableEHPGainOnBlock",type:"check",label:"Disable EHP gain on block:",tooltip:"Sets the EHP calc to not apply gain on block effects"},{var:"armourCalculationMode",type:"list",label:"Armour calculation mode:",tooltip:`Controls how Defending with Double Armour is calculated:
	Minimum: never Defend with Double Armour
	Average: Damage Reduction from Defending with Double Armour is proportional to chance
	Maximum: always Defend with Double Armour
This setting has no effect if you have 100% chance to Defend with Double Armour.`,list:[{value:"MIN",label:"Minimum"},{value:"AVERAGE",label:"Average"},{value:"MAX",label:"Maximum"}]},{var:"warcryMode",type:"list",label:"Warcry calculation mode:",ifSkillList:["Infernal Cry","Ancestral Cry","Enduring Cry","General's Cry","Intimidating Cry","Rallying Cry","Seismic Cry","Battlemage's Cry"],tooltip:`Controls how exerted attacks from Warcries are calculated:
Average: Averages out Warcry usage with cast time, attack speed and warcry cooldown.
Max Hit: Shows maximum hit for lining up all warcries.`,list:[{value:"AVERAGE",label:"Average"},{value:"MAX",label:"Max Hit"}]},{var:"EVBypass",type:"check",label:"Disable Emperor's Vigilance Bypass",ifCond:"EVBypass"}]},{name:"Arcanist Brand",variables:[{var:"targetBrandedEnemy",type:"check",label:"Are skills targeting the Branded enemy?",ifSkill:"Arcanist Brand"}]},{name:"Aspect of the Avian",variables:[{var:"aspectOfTheAvianAviansMight",type:"check",label:"Is Avian's Might active?",ifSkill:"Aspect of the Avian"},{var:"aspectOfTheAvianAviansFlight",type:"check",label:"Is Avian's Flight active?",ifSkill:"Aspect of the Avian"}]},{name:"Aspect of the Cat",variables:[{var:"aspectOfTheCatCatsStealth",type:"check",label:"Is Cat's Stealth active?",ifSkill:"Aspect of the Cat"},{var:"aspectOfTheCatCatsAgility",type:"check",label:"Is Cat's Agility active?",ifSkill:"Aspect of the Cat"}]},{name:"Aspect of the Crab",variables:[{var:"overrideCrabBarriers",type:"count",label:"# of Crab Barriers (if not maximum):",ifSkill:"Aspect of the Crab"}]},{name:"Aspect of the Spider",variables:[{var:"aspectOfTheSpiderWebStacks",type:"count",label:"# of Spider's Web Stacks:",ifSkill:"Aspect of the Spider"}]},{name:"Banner Skills",variables:[{var:"bannerPlanted",type:"check",label:"Is Banner Planted?",ifSkillList:["Dread Banner","War Banner","Defiance Banner"]},{var:"bannerStages",type:"count",label:"Banner Stages:",ifSkillList:["Dread Banner","War Banner","Defiance Banner"]}]},{name:"Bladestorm",variables:[{var:"bladestormInBloodstorm",type:"check",label:"Are you in a Bloodstorm?",ifSkill:"Bladestorm"},{var:"bladestormInSandstorm",type:"check",label:"Are you in a Sandstorm?",ifSkill:"Bladestorm"}]},{name:"Bonechill Support",variables:[{var:"bonechillEffect",type:"count",label:"Effect of Chill:",tooltip:`The effect of ^${l.COLD}Chill ^#is automatically calculated if you have a guaranteed source of ^${l.COLD}Chill^#,
but you can use this to override the effect if necessary.`,ifSkill:"Bonechill"}]},{name:"Boneshatter",variables:[{var:"boneshatterTraumaStacks",type:"count",label:"# of Trauma Stacks:",ifSkill:"Boneshatter"}]},{name:"Brand Skills",variables:[{var:"ActiveBrands",type:"count",label:"# of active Brands:",ifSkillList:["Armageddon Brand","Storm Brand","Arcanist Brand","Penance Brand","Wintertide Brand"]},{var:"BrandsAttachedToEnemy",type:"count",label:"# of Brands attached to the enemy:",ifEnemyMult:"BrandsAttached"},{var:"BrandsInLastQuarter",type:"check",label:"Last 25% of Attached Duration?",ifCond:"BrandLastQuarter"}]},{name:"Carrion Golem",variables:[{var:"carrionGolemNearbyMinion",type:"count",label:"# of Nearby Non-Golem Minions:",ifSkill:"Summon Carrion Golem"}]},{name:"Close Combat",variables:[{var:"closeCombatCombatRush",type:"check",label:"Is Combat Rush active?",ifSkill:"Close Combat",tooltip:"Combat Rush grants 20% more Attack Speed to Travel Skills not Supported by Close Combat."}]},{name:"Cruelty",variables:[{var:"overrideCruelty",type:"count",label:"Damage % (if not maximum):",ifSkill:"Cruelty",tooltip:`Cruelty is a buff provided by Cruelty Support which grants
up to 40% more damage over time to the skills it supports.`}]},{name:"Cyclone",variables:[{var:"channellingCycloneCheck",type:"check",label:"Are you Channelling Cyclone?",ifSkill:"Cyclone"}]},{name:"Dark Pact",variables:[{var:"darkPactSkeletonLife",type:"count",label:`Skeleton ^${l.LIFE}Life^#:`,ifSkill:"Dark Pact",tooltip:`Sets the maximum ^${l.LIFE}Life ^#of the Skeleton that is being targeted.`}]},{name:"Predator",variables:[{var:"deathmarkDeathmarkActive",type:"check",label:"Is the enemy marked with Signal Prey?",ifSkill:"Predator"}]},{name:"Elemental Army",variables:[{var:"elementalArmyExposureType",type:"list",label:"Exposure Type:",ifSkill:"Elemental Army",list:[{value:0,label:"None"},{value:"Fire",label:`^${l.FIRE}Fire^#`},{value:"Cold",label:`^${l.COLD}Cold^#`},{value:"Lightning",label:`^${l.LIGHTNING}Lightning^#`}]}]},{name:"Energy Blade",variables:[{var:"energyBladeActive",type:"check",label:"Is Energy Blade active?",ifSkill:"Energy Blade",tooltip:"Energy Blade transforms your weapons into Swords formed from energy"}]},{name:"Embrace Madness",variables:[{var:"embraceMadnessActive",type:"check",label:"Is Embrace Madness active?",ifSkill:"Embrace Madness"}]},{name:"Feeding Frenzy",variables:[{var:"feedingFrenzyFeedingFrenzyActive",type:"check",label:"Is Feeding Frenzy active?",ifSkill:"Feeding Frenzy",tooltip:`Feeding Frenzy grants:
	10% more Minion Damage
	10% increased Minion Movement Speed
	10% increased Minion Attack and Cast Speed`}]},{name:"Flame Wall",variables:[{var:"flameWallAddedDamage",type:"check",label:"Projectile Travelled through Flame Wall?",ifSkill:"Flame Wall"}]},{name:"Frostbolt",variables:[{var:"frostboltExposure",type:"check",label:"Can you apply Exposure?",ifSkill:"Frostbolt"}]},{name:"Frost Shield",variables:[{var:"frostShieldStages",type:"count",label:"Stages:",ifSkill:"Frost Shield"}]},{name:"Greater Harbinger of Time",variables:[{var:"greaterHarbingerOfTimeSlipstream",type:"check",label:"Is Slipstream active?:",ifSkill:"Summon Greater Harbinger of Time",tooltip:`Greater Harbinger of Time Slipstream buff grants:
10% increased Action Speed
Buff affects the player and allies
Buff has a base duration of 8s with a 10s Cooldown`}]},{name:"Harbinger of Time",variables:[{var:"harbingerOfTimeSlipstream",type:"check",label:"Is Slipstream active?:",ifSkill:"Summon Harbinger of Time",tooltip:`Harbinger of Time Slipstream buff grants:
10% increased Action Speed
Buff affects the player, allies and enemies in a small radius
Buff has a base duration of 8s with a 20s Cooldown`}]},{name:"Hex",variables:[{var:"multiplierHexDoom",type:"count",label:"Doom on Hex:",ifSkillFlag:"hex"}]},{name:"Herald of Agony",variables:[{var:"heraldOfAgonyVirulenceStack",type:"count",label:"# of Virulence Stacks:",ifSkill:"Herald of Agony"}]},{name:"Ice Nova",variables:[{var:"iceNovaCastOnFrostbolt",type:"check",label:"Cast on Frostbolt?",ifSkill:"Ice Nova"}]},{name:"Infusion",variables:[{var:"infusedChannellingInfusion",type:"check",label:"Is Infusion active?",ifSkill:"Infused Channelling"}]},{name:"Innervate",variables:[{var:"innervateInnervation",type:"check",label:"Is Innervation active?",ifSkill:"Innervate"}]},{name:"Intensify",variables:[{var:"intensifyIntensity",type:"count",label:"# of Intensity:",ifSkillList:["Intensify","Crackling Lance","Pinpoint"]}]},{name:"Meat Shield",variables:[{var:"meatShieldEnemyNearYou",type:"check",label:"Is the enemy near you?",ifSkill:"Meat Shield"}]},{name:"Plague Bearer",variables:[{var:"plagueBearerState",type:"list",label:"State:",ifSkill:"Plague Bearer",list:[{value:"INC",label:"Incubating"},{value:"INF",label:"Infecting"}]}]},{name:"Perforate",variables:[{var:"perforateSpikeOverlap",type:"count",label:"# of Overlapping Spikes:",tooltip:`Affects the DPS of Perforate in Blood Stance.
Maximum is limited by the number of Spikes of Perforate.`,ifSkill:"Perforate"}]},{name:"Physical Aegis",variables:[{var:"physicalAegisDepleted",type:"check",label:"Is Physical Aegis depleted?",ifSkill:"Physical Aegis"}]},{name:"Pride",variables:[{var:"prideEffect",type:"list",label:"Pride Aura Effect:",ifSkill:"Pride",list:[{value:"MIN",label:"Initial effect"},{value:"MAX",label:"Maximum effect"}]}]},{name:"Rage Vortex",variables:[{var:"sacrificedRageCount",type:"count",label:"Amount of Rage Sacrificed?",ifSkill:"Rage Vortex"}]},{name:"Raise Spectre",variables:[{var:"raiseSpectreEnableBuffs",type:"check",defaultState:!0,label:"Enable buffs:",ifSkill:"Raise Spectre",tooltip:"Enable any buff skills that your spectres have."},{var:"raiseSpectreEnableCurses",type:"check",defaultState:!0,label:"Enable curses:",ifSkill:"Raise Spectre",tooltip:"Enable any curse skills that your spectres have."},{var:"raiseSpectreBladeVortexBladeCount",type:"count",label:"Blade Vortex blade count:",ifSkillList:["DemonModularBladeVortexSpectre","GhostPirateBladeVortexSpectre"],tooltip:`Sets the blade count for Blade Vortex skills used by spectres.
Default is 1; maximum is 5.`},{var:"raiseSpectreKaomFireBeamTotemStage",type:"count",label:"Scorching Ray Totem stage count:",ifSkill:"KaomFireBeamTotemSpectre"},{var:"raiseSpectreEnableSummonedUrsaRallyingCry",type:"check",label:"Enable Summoned Ursa's Rallying Cry:",ifSkill:"DropBearSummonedRallyingCry"}]},{name:"Raise Spiders",variables:[{var:"raiseSpidersSpiderCount",type:"count",label:"# of Spiders:",ifSkill:"Raise Spiders"},{var:"animateWeaponLingeringBlade",type:"check",label:"Are you animating Lingering Blades?",ifSkill:"Animate Weapon",tooltip:`Enables additional damage given to Lingering Blades
The exact weapon is unknown but should be similar to Glass Shank`}]},{name:"Sigil of Power",variables:[{var:"sigilOfPowerStages",type:"count",label:"Stages:",ifSkill:"Sigil of Power"}]},{name:"Siphoning Trap",variables:[{var:"siphoningTrapAffectedEnemies",type:"count",label:"# of Enemies affected:",ifSkill:"Siphoning Trap",tooltip:"Sets the number of enemies affected by Siphoning Trap."}]},{name:"Snipe",variables:[{var:"configSnipeStages",type:"count",label:"# of Snipe stages:",ifSkill:"Snipe",tooltip:"Sets the number of stages reached before releasing Snipe."}]},{name:"Trinity Support",variables:[{var:"configResonanceCount",type:"count",label:"Lowest Resonance Count:",ifSkill:"Trinity",tooltip:"Sets the amount of resonance on the lowest element."}]},{name:"Spectral Wolf",variables:[{var:"configSpectralWolfCount",type:"count",label:"# of Active Spectral Wolves:",ifSkill:"Summon Spectral Wolf",tooltip:`Sets the number of active Spectral Wolves.
The maximum number of Spectral Wolves is 10.`}]},{name:"Stance Skills",variables:[{var:"bloodSandStance",type:"list",label:"Stance:",ifSkillList:["Blood and Sand","Flesh and Stone","Lacerate","Bladestorm","Perforate"],list:[{value:"BLOOD",label:"Blood Stance"},{value:"SAND",label:"Sand Stance"}]},{var:"changedStance",type:"check",label:"Changed Stance recently?",ifCond:"ChangedStanceRecently"}]},{name:"Steel Skills",variables:[{var:"shardsConsumed",type:"count",label:"Steel Shards consumed:",ifSkillList:["Splitting Steel","Shattering Steel","Lancing Steel"]},{var:"steelWards",type:"count",label:"Steel Wards:",ifSkill:"Shattering Steel",tooltip:`Steel Wards are gained from using Shattering Steel with at least 2 Steel Shards.
You can have up to 6 Steel Wards, and each grants +4% chance to Block Projectile Attack Damage.`}]},{name:"Storm Rain",variables:[{var:"stormRainBeamOverlap",type:"count",label:"# of Overlapping Beams:",ifSkill:"Storm Rain"}]},{name:"Summon Holy Relic",variables:[{var:"summonHolyRelicEnableHolyRelicBoon",type:"check",label:"Enable Holy Relic's Boon Aura:",ifSkill:"Summon Holy Relic"}]},{name:"Summon Lightning Golem",variables:[{var:"summonLightningGolemEnableWrath",type:"check",label:"Enable Wrath Aura:",ifSkill:"Summon Lightning Golem"}]},{name:"Thirst for Blood",variables:[{var:"nearbyBleedingEnemies",type:"count",label:"# of Nearby Bleeding Enemies:",ifSkill:"Thirst for Blood"}]},{name:"Toxic Rain",variables:[{var:"toxicRainPodOverlap",type:"count",label:"# of Overlapping Pods:",tooltip:"Maximum is limited by the number of Projectiles.",ifSkill:"Toxic Rain"}]},{name:"Herald of Ash",variables:[{var:"hoaOverkill",type:"count",label:"Overkill damage:",tooltip:`Herald of Ash's base ^${l.FIRE}Burning ^#damage is equal to 25% of Overkill damage.`,ifSkill:"Herald of Ash"}]},{name:"Voltaxic Burst",variables:[{var:"voltaxicBurstSpellsQueued",type:"count",label:"# of Casts currently waiting:",ifSkill:"Voltaxic Burst"}]},{name:"Vortex",variables:[{var:"vortexCastOnFrostbolt",type:"check",label:"Cast on Frostbolt?",ifSkill:"Vortex"}]},{name:"Cold Snap",variables:[{var:"ColdSnapBypassCD",type:"check",label:"Bypass CD?",ifSkill:"Cold Snap"}]},{name:"Warcry Skills",variables:[{var:"multiplierWarcryPower",type:"count",label:"Warcry Power:",ifSkillList:["Infernal Cry","Ancestral Cry","Enduring Cry","General's Cry","Intimidating Cry","Rallying Cry","Seismic Cry","Battlemage's Cry"],tooltip:`Power determines how strong your Warcry buffs will be, and is based on the total strength of nearby enemies.
Power is assumed to be 20 if your target is a Boss, but you can override it here if necessary.
	Each Normal enemy grants 1 Power
	Each Magic enemy grants 2 Power
	Each Rare enemy grants 10 Power
	Each Unique enemy grants 20 Power`}]},{name:"Wave of Conviction",variables:[{var:"waveOfConvictionExposureType",type:"list",label:"Exposure Type:",ifSkill:"Wave of Conviction",list:[{value:0,label:"None"},{value:"Fire",label:`^${l.FIRE}Fire^#`},{value:"Cold",label:`^${l.COLD}Cold^#`},{value:"Lightning",label:`^${l.LIGHTNING}Lightning^#`}]}]},{name:"Molten Shell",variables:[{var:"MoltenShellDamageMitigated",type:"count",label:"Damage mitigated:",tooltip:`Molten Shell reflects damage to the enemy,
based on the amount of damage it has mitigated.`,ifSkill:"Molten Shell"}]},{name:"Vaal Molten Shell",variables:[{var:"VaalMoltenShellDamageMitigated",type:"count",label:"Damage mitigated:",tooltip:`Vaal Molten Shell reflects damage to the enemy,
based on the amount of damage it has mitigated in the last second.`,ifSkill:"Vaal Molten Shell"}]},{name:"Map Prefix Modifiers",variables:[{var:"enemyHasPhysicalReduction",type:"list",label:"Enemy Physical Damage reduction:",tooltip:"'Armoured'",list:[{value:0,label:"None"},{value:20,label:"20% (Low tier)"},{value:30,label:"30% (Mid tier)"},{value:40,label:"40% (High tier)"}]},{var:"enemyIsHexproof",type:"check",label:"Enemy is Hexproof?",tooltip:"'Hexproof'"},{var:"enemyHasLessCurseEffectOnSelf",type:"list",label:"Less effect of Curses on enemy:",tooltip:"'Hexwarded'",list:[{value:0,label:"None"},{value:25,label:"25% (Low tier)"},{value:40,label:"40% (Mid tier)"},{value:60,label:"60% (High tier)"}]},{var:"enemyCanAvoidPoisonBlindBleed",type:"list",label:"Enemy avoid Poison / Blind / Bleed:",tooltip:"'Impervious'",list:[{value:0,label:"None"},{value:25,label:"25% (Low tier)"},{value:45,label:"45% (Mid tier)"},{value:65,label:"65% (High tier)"}]},{var:"enemyHasResistances",type:"list",label:`Enemy has Elemental / ^${l.CHAOS}Chaos ^#Resist:`,tooltip:"'Resistant'",list:[{value:0,label:"None"},{value:"LOW",label:"20% / 15% (Low tier)"},{value:"MID",label:"30% /2 0% (Mid tier)"},{value:"HIGH",label:"40% / 25% (High tier)"}]}]},{name:"Map Suffix Modifiers",variables:[{var:"playerHasElementalEquilibrium",type:"check",label:"Player has Elemental Equilibrium?",tooltip:"'of Balance'"},{var:"playerCannotLeech",type:"check",label:`Cannot Leech ^${l.LIFE}Life ^#/ ^${l.MANA}Mana^#?`,tooltip:"'of Congealment'"},{var:"playerGainsReducedFlaskCharges",type:"list",label:"Gains reduced Flask Charges:",tooltip:"'of Drought'",list:[{value:0,label:"None"},{value:30,label:"30% (Low tier)"},{value:40,label:"40% (Mid tier)"},{value:50,label:"50% (High tier)"}]},{var:"playerHasMinusMaxResist",type:"count",label:"-X% maximum Resistances:",tooltip:`'of Exposure'
Mid tier: 5-8%
High tier: 9-12%`},{var:"playerHasLessAreaOfEffect",type:"list",label:"Less Area of Effect:",tooltip:"'of Impotence'",list:[{value:0,label:"None"},{value:15,label:"15% (Low tier)"},{value:20,label:"20% (Mid tier)"},{value:25,label:"25% (High tier)"}]},{var:"enemyCanAvoidStatusAilment",type:"list",label:"Enemy avoid Elem. Status Ailments:",tooltip:"'of Insulation'",list:[{value:0,label:"None"},{value:30,label:"30% (Low tier)"},{value:60,label:"60% (Mid tier)"},{value:90,label:"90% (High tier)"}]},{var:"enemyHasIncreasedAccuracy",type:"list",label:"Unlucky Dodge / Enemy has inc. Accuracy:",tooltip:"'of Miring'",list:[{value:0,label:"None"},{value:30,label:"30% (Low tier)"},{value:40,label:"40% (Mid tier)"},{value:50,label:"50% (High tier)"}]},{var:"playerHasLessArmourAndBlock",type:"list",label:"Reduced Block Chance / less Armour:",tooltip:"'of Rust'",list:[{value:0,label:"None"},{value:"LOW",label:"20% / 20% (Low tier)"},{value:"MID",label:"30% / 25% (Mid tier)"},{value:"HIGH",label:"40% / 30% (High tier)"}]},{var:"playerHasPointBlank",type:"check",label:"Player has Point Blank?",tooltip:"'of Skirmishing'"},{var:"playerHasLessLifeESRecovery",type:"list",label:`Less Recovery Rate of ^${l.LIFE}Life ^#and ^${l.ES}Energy Shield^#:`,tooltip:"'of Smothering'",list:[{value:0,label:"None"},{value:20,label:"20% (Low tier)"},{value:40,label:"40% (Mid tier)"},{value:60,label:"60% (High tier)"}]},{var:"playerCannotRegenLifeManaEnergyShield",type:"check",label:`Cannot Regen ^${l.LIFE}Life^#, ^${l.MANA}Mana ^#or ^${l.ES}ES^#?`,tooltip:"'of Stasis'"},{var:"enemyTakesReducedExtraCritDamage",type:"count",label:"Enemy takes red. Extra Crit Damage:",tooltip:`'of Toughness'
Low tier: 25-30%
Mid tier: 31-35%
High tier: 36-40%`},{var:"multiplierSextant",type:"count",label:"# of Sextants affecting the area",ifMult:"Sextant"}]},{name:"Player is cursed by",variables:[{var:"playerCursedWithAssassinsMark",type:"count",label:"Assassin's Mark:",tooltip:"Sets the level of Assassin's Mark to apply to the player."},{var:"playerCursedWithConductivity",type:"count",label:"Conductivity:",tooltip:"Sets the level of Conductivity to apply to the player."},{var:"playerCursedWithDespair",type:"count",label:"Despair:",tooltip:"Sets the level of Despair to apply to the player."},{var:"playerCursedWithElementalWeakness",type:"count",label:"Elemental Weakness:",tooltip:`Sets the level of Elemental Weakness to apply to the player.
In mid tier maps, 'of Elemental Weakness' applies level 10.
In high tier maps, 'of Elemental Weakness' applies level 15.`},{var:"playerCursedWithEnfeeble",type:"count",label:"Enfeeble:",tooltip:`Sets the level of Enfeeble to apply to the player.
In mid tier maps, 'of Enfeeblement' applies level 10.
In high tier maps, 'of Enfeeblement' applies level 15.`},{var:"playerCursedWithFlammability",type:"count",label:"Flammability:",tooltip:"Sets the level of Flammability to apply to the player."},{var:"playerCursedWithFrostbite",type:"count",label:"Frostbite:",tooltip:"Sets the level of Frostbite to apply to the player."},{var:"playerCursedWithPoachersMark",type:"count",label:"Poacher's Mark:",tooltip:"Sets the level of Poacher's Mark to apply to the player."},{var:"playerCursedWithProjectileWeakness",type:"count",label:"Projectile Weakness:",tooltip:"Sets the level of Projectile Weakness to apply to the player."},{var:"playerCursedWithPunishment",type:"count",label:"Punishment:",tooltip:"Sets the level of Punishment to apply to the player."},{var:"playerCursedWithTemporalChains",type:"count",label:"Temporal Chains:",tooltip:`Sets the level of Temporal Chains to apply to the player.
In mid tier maps, 'of Temporal Chains' applies level 10.
In high tier maps, 'of Temporal Chains' applies level 15.`},{var:"playerCursedWithVulnerability",type:"count",label:"Vulnerability:",tooltip:`Sets the level of Vulnerability to apply to the player.
In mid tier maps, 'of Vulnerability' applies level 10.
In high tier maps, 'of Vulnerability' applies level 15.`},{var:"playerCursedWithWarlordsMark",type:"count",label:"Warlord's Mark:",tooltip:"Sets the level of Warlord's Mark to apply to the player."}]},{name:"When In Combat",variables:[{var:"usePowerCharges",type:"check",label:"Do you use Power Charges?"},{var:"overridePowerCharges",type:"count",label:"# of Power Charges (if not maximum):",ifOption:"usePowerCharges"},{var:"useFrenzyCharges",type:"check",label:"Do you use Frenzy Charges?"},{var:"overrideFrenzyCharges",type:"count",label:"# of Frenzy Charges (if not maximum):",ifOption:"useFrenzyCharges"},{var:"useEnduranceCharges",type:"check",label:"Do you use Endurance Charges?"},{var:"overrideEnduranceCharges",type:"count",label:"# of Endurance Charges (if not maximum):",ifOption:"useEnduranceCharges"},{var:"useSiphoningCharges",type:"check",label:"Do you use Siphoning Charges?",ifMult:"SiphoningCharge"},{var:"overrideSiphoningCharges",type:"count",label:"# of Siphoning Charges (if not maximum):",ifOption:"useSiphoningCharges"},{var:"useChallengerCharges",type:"check",label:"Do you use Challenger Charges?",ifMult:"ChallengerCharge"},{var:"overrideChallengerCharges",type:"count",label:"# of Challenger Charges (if not maximum):",ifOption:"useChallengerCharges"},{var:"useBlitzCharges",type:"check",label:"Do you use Blitz Charges?",ifMult:"BlitzCharge"},{var:"overrideBlitzCharges",type:"count",label:"# of Blitz Charges (if not maximum):",ifOption:"useBlitzCharges"},{var:"multiplierGaleForce",type:"count",label:"# of Gale Force:",ifFlag:"Condition:CanGainGaleForce",tooltip:"Base maximum Gale Force is 10."},{var:"overrideInspirationCharges",type:"count",label:"# of Inspiration Charges (if not maximum):",ifMult:"InspirationCharge"},{var:"useGhostShrouds",type:"check",label:"Do you use Ghost Shrouds?",ifMult:"GhostShroud"},{var:"overrideGhostShrouds",type:"count",label:"# of Ghost Shrouds (if not maximum):",ifOption:"useGhostShrouds"},{var:"waitForMaxSeals",type:"check",label:"Do you wait for Max Unleash Seals?",ifFlag:"HasSeals"},{var:"overrideBloodCharges",type:"count",label:"# of Blood Charges (if not maximum):",ifMult:"BloodCharge"},{var:"minionsUsePowerCharges",type:"check",label:"Do your Minions use Power Charges?",ifFlag:"haveMinion"},{var:"minionsUseFrenzyCharges",type:"check",label:"Do your Minions use Frenzy Charges?",ifFlag:"haveMinion"},{var:"minionsUseEnduranceCharges",type:"check",label:"Do your Minions use Endur. Charges?",ifFlag:"haveMinion"},{var:"minionsOverridePowerCharges",type:"count",label:"# of Power Charges (if not maximum):",ifFlag:"haveMinion",ifOption:"minionsUsePowerCharges"},{var:"minionsOverrideFrenzyCharges",type:"count",label:"# of Frenzy Charges (if not maximum):",ifFlag:"haveMinion",ifOption:"minionsUseFrenzyCharges"},{var:"minionsOverrideEnduranceCharges",type:"count",label:"# of Endurance Charges (if not maximum):",ifFlag:"haveMinion",ifOption:"minionsUseEnduranceCharges"},{var:"multiplierRampage",type:"count",label:"# of Rampage Kills:",tooltip:`Rampage grants the following, up to 1000 stacks:
	1% increased Movement Speed per 20 Rampage
	2% increased Damage per 20 Rampage
You lose Rampage if you do not get a Kill within 5 seconds.`},{var:"conditionFocused",type:"check",label:"Are you Focused?",ifCond:"Focused"},{var:"buffLifetap",type:"check",label:"Do you have Lifetap?",ifCond:"Lifetap"},{var:"buffOnslaught",type:"check",label:"Do you have Onslaught?",tooltip:`In addition to allowing any 'while you have Onslaught' modifiers to apply,
this will enable the Onslaught buff itself. (Grants 20% increased Attack, Cast, and Movement Speed)`},{var:"minionBuffOnslaught",type:"check",label:"Do your minions have Onslaught?",ifFlag:"haveMinion",tooltip:`In addition to allowing any 'while your minions have Onslaught' modifiers to apply,
this will enable the Onslaught buff itself. (Grants 20% increased Attack, Cast, and Movement Speed)`},{var:"buffUnholyMight",type:"check",label:"Do you have Unholy Might?",tooltip:`This will enable the Unholy Might buff. (Grants 30% of Physical Damage as Extra ^${l.CHAOS}Chaos ^#Damage)`},{var:"minionbuffUnholyMight",type:"check",label:"Do your minions have Unholy Might?",ifFlag:"haveMinion",tooltip:`This will enable the Unholy Might buff on your minions. (Grants 30% of Physical Damage as Extra ^${l.CHAOS}Chaos ^#Damage)`},{var:"buffPhasing",type:"check",label:"Do you have Phasing?",ifCond:"Phasing"},{var:"buffFortification",type:"check",label:"Are you Fortified?"},{var:"overrideFortification",type:"count",label:"# of Fortification Stacks (if not maximum):",ifFlag:"Condition:Fortified",tooltip:`You have 1% less damage taken from hits per stack of fortification:
Has a default cap of 20 stacks.`},{var:"buffTailwind",type:"check",label:"Do you have Tailwind?",tooltip:`In addition to allowing any 'while you have Tailwind' modifiers to apply,
this will enable the Tailwind buff itself. (Grants 8% increased Action Speed)`},{var:"buffAdrenaline",type:"check",label:"Do you have Adrenaline?",tooltip:`This will enable the Adrenaline buff, which grants:
	100% increased Damage
	25% increased Attack, Cast and Movement Speed
	10% additional Physical Damage Reduction`},{var:"buffAlchemistsGenius",type:"check",label:"Do you have Alchemist's Genius?",ifFlag:"Condition:CanHaveAlchemistGenius",tooltip:`This will enable the Alchemist's Genius buff:
20% increased Flask Charges gained
10% increased effect of Flasks`},{var:"buffVaalArcLuckyHits",type:"check",label:"Do you have Vaal Arc's Lucky Buff?",ifFlag:"Condition:CanBeLucky",tooltip:"Causes Damage with Arc Hits to be rolled twice, and the maximum roll used."},{var:"buffElusive",type:"check",label:"Are you Elusive?",ifFlag:"Condition:CanBeElusive",tooltip:`In addition to allowing any 'while Elusive' modifiers to apply,
this will enable the Elusive buff itself:
	15% Chance to Avoid all Damage from Hits
	30% increased Movement Speed
The effect of Elusive decays over time.`},{var:"overrideBuffElusive",type:"count",label:"Effect of Elusive (if not maximum):",ifOption:"buffElusive",tooltip:`If you have a guaranteed source of Elusive, the strongest one will apply. 
You can change this to see decaying buff values`},{var:"buffDivinity",type:"check",label:"Do you have Divinity?",ifCond:"Divinity",tooltip:`This will enable the Divinity buff, which grants:
	50% more Elemental Damage
	20% less Elemental Damage taken`},{var:"multiplierDefiance",type:"count",label:"Defiance:",ifMult:"Defiance"},{var:"multiplierRage",type:"count",label:"Rage:",ifFlag:"Condition:CanGainRage",tooltip:`Base Maximum Rage is 50, and inherently grants the following:
	1% increased Attack Damage per 1 Rage
	1% increased Attack Speed per 2 Rage
	1% increased Movement Speed per 5 Rage
You lose 1 Rage every 0.5 seconds if you have not been Hit or gained Rage Recently.`},{var:"conditionLeeching",type:"check",label:"Are you Leeching?",ifCond:"Leeching",tooltip:`You will automatically be considered to be Leeching if you have '^${l.LIFE}Life ^#Leech effects are not removed at Full ^${l.LIFE}Life^#',
but you can use this option to force it if necessary.`},{var:"conditionLeechingLife",type:"check",label:`Are you Leeching ^${l.LIFE}Life^#?`,ifCond:"LeechingLife",implyCond:"Leeching"},{var:"conditionLeechingEnergyShield",type:"check",label:`Are you Leeching ^${l.ES}Energy Shield^#?`,ifCond:"LeechingEnergyShield",implyCond:"Leeching"},{var:"conditionLeechingMana",type:"check",label:`Are you Leeching ^${l.MANA}Mana^#?`,ifCond:"LeechingMana",implyCond:"Leeching"},{var:"conditionUsingFlask",type:"check",label:"Do you have a Flask active?",ifCond:"UsingFlask",tooltip:`This is automatically enabled if you have a flask active,
but you can use this option to force it if necessary.`},{var:"conditionHaveTotem",type:"check",label:"Do you have a Totem summoned?",ifCond:"HaveTotem",tooltip:`You will automatically be considered to have a Totem if your main skill is a Totem,
but you can use this option to force it if necessary.`},{var:"conditionSummonedTotemRecently",type:"check",label:"Have you Summoned a Totem Recently?",ifCond:"SummonedTotemRecently",tooltip:`You will automatically be considered to have Summoned a Totem Recently if your main skill is a Totem,
but you can use this option to force it if necessary.`},{var:"TotemsSummoned",type:"count",label:"# of Summoned Totems (if not maximum):",ifSkillList:["Spell Totem","Searing Bond","Ballista Totem","Siege Ballista","Artillery Ballista","Shrapnel Ballista","Ancestral Protector","Ancestral Warchief","Vaal Ancestral Warchief","Earthbreaker"],tooltip:`This also implies that you have a Totem summoned.
This will affect all 'per Summoned Totem' modifiers, even for non-Totem skills.`},{var:"conditionSummonedGolemInPast8Sec",type:"check",label:"Summoned a Golem in the past 8 Seconds?",ifCond:"SummonedGolemInPast8Sec",implyCond:"SummonedGolemInPast10Sec"},{var:"conditionSummonedGolemInPast10Sec",type:"check",label:"Summoned a Golem in the past 10 Seconds?",ifCond:"SummonedGolemInPast10Sec"},{var:"multiplierNearbyAlly",type:"count",label:"# of Nearby Allies:",ifMult:"NearbyAlly"},{var:"multiplierNearbyCorpse",type:"count",label:"# of Nearby Corpses:",ifMult:"NearbyCorpse"},{var:"multiplierSummonedMinion",type:"count",label:"# of Summoned Minions:",ifMult:"SummonedMinion"},{var:"conditionOnConsecratedGround",type:"check",label:"Are you on Consecrated Ground?",tooltip:`In addition to allowing any 'while on Consecrated Ground' modifiers to apply,
Consecrated Ground grants 5% ^${l.LIFE}Life ^#Regeneration to players and allies.`},{var:"conditionOnFungalGround",type:"check",label:"Are you on Fungal Ground?",ifCond:"OnFungalGround",tooltip:`Allies on your Fungal Ground gain 10% of Non-Chaos Damage as extra ^${l.CHAOS}Chaos ^#Damage.`},{var:"conditionOnBurningGround",type:"check",label:`Are you on ^${l.FIRE}Burning ^#Ground?`,ifCond:"OnBurningGround",implyCond:"Burning",tooltip:`This also implies that you are ^${l.FIRE}Burning^#.`},{var:"conditionOnChilledGround",type:"check",label:`Are you on ^${l.COLD}Chilled ^#Ground?`,ifCond:"OnChilledGround",implyCond:"Chilled",tooltip:`This also implies that you are ^${l.COLD}Chilled^#.`},{var:"conditionOnShockedGround",type:"check",label:`Are you on ^${l.LIGHTNING}Shocked ^#Ground?`,ifCond:"OnShockedGround",implyCond:"Shocked",tooltip:`This also implies that you are ^${l.LIGHTNING}Shocked^#.`},{var:"conditionBlinded",type:"check",label:"Are you Blinded?",ifCond:"Blinded"},{var:"conditionBurning",type:"check",label:`Are you ^${l.FIRE}Burning^#?`,ifCond:"Burning"},{var:"conditionIgnited",type:"check",label:`Are you ^${l.FIRE}Ignited^#?`,ifCond:"Ignited",implyCond:"Burning",tooltip:`This also implies that you are ^${l.FIRE}Burning^#.`},{var:"conditionChilled",type:"check",label:`Are you ^${l.COLD}Chilled^#?`,ifCond:"Chilled"},{var:"conditionChilledEffect",type:"count",label:`Effect of ^${l.COLD}Chill^#:`,ifOption:"conditionChilled"},{var:"conditionSelfChill",type:"check",label:`Did you ^${l.COLD}Chill ^#yourself?`,ifOption:"conditionChilled"},{var:"conditionFrozen",type:"check",label:`Are you ^${l.COLD}Frozen^#?`,ifCond:"Frozen",implyCond:"Chilled",tooltip:`This also implies that you are ^${l.COLD}Chilled^#.`},{var:"conditionShocked",type:"check",label:`Are you ^${l.LIGHTNING}Shocked^#?`,ifCond:"Shocked"},{var:"conditionBleeding",type:"check",label:"Are you Bleeding?",ifCond:"Bleeding"},{var:"conditionPoisoned",type:"check",label:"Are you Poisoned?",ifCond:"Poisoned"},{var:"multiplierPoisonOnSelf",type:"count",label:"# of Poison on You:",ifMult:"PoisonStack",implyCond:"Poisoned",tooltip:"This also implies that you are Poisoned."},{var:"conditionAgainstDamageOverTime",type:"check",label:"Are you against Damage over Time?",ifCond:"AgainstDamageOverTime"},{var:"multiplierNearbyEnemies",type:"count",label:"# of nearby Enemies:",ifMult:"NearbyEnemies"},{var:"multiplierNearbyRareOrUniqueEnemies",type:"countAllowZero",label:"# of nearby Rare or Unique Enemies:",ifMult:"NearbyRareOrUniqueEnemies"},{var:"conditionHitRecently",type:"check",label:"Have you Hit Recently?",ifCond:"HitRecently",tooltip:`You will automatically be considered to have Hit Recently if your main skill Hits and is self-cast,
but you can use this option to force it if necessary.`},{var:"conditionCritRecently",type:"check",label:"Have you Crit Recently?",ifCond:"CritRecently",implyCond:"SkillCritRecently",tooltip:"This also implies that your Skills have Crit Recently."},{var:"conditionSkillCritRecently",type:"check",label:"Have your Skills Crit Recently?",ifCond:"SkillCritRecently"},{var:"conditionCritWithHeraldSkillRecently",type:"check",label:"Have your Herald Skills Crit Recently?",ifCond:"CritWithHeraldSkillRecently",implyCond:"SkillCritRecently",tooltip:"This also implies that your Skills have Crit Recently."},{var:"LostNonVaalBuffRecently",type:"check",label:"Lost a Non-Vaal Guard Skill buff recently?",ifCond:"LostNonVaalBuffRecently"},{var:"conditionNonCritRecently",type:"check",label:"Have you dealt a Non-Crit Recently?",ifCond:"NonCritRecently"},{var:"conditionChannelling",type:"check",label:"Are you Channelling?",ifCond:"Channelling",tooltip:`You will automatically be considered to be Channeling if your main skill is a channelled skill,
but you can use this option to force it if necessary.`},{var:"conditionHitRecentlyWithWeapon",type:"check",label:"Have you Hit Recently with Your Weapon?",ifCond:"HitRecentlyWithWeapon",tooltip:"This also implies that you have Hit Recently."},{var:"conditionKilledRecently",type:"check",label:"Have you Killed Recently?",ifCond:"KilledRecently"},{var:"multiplierKilledRecently",type:"count",label:"# of Enemies Killed Recently:",ifMult:"EnemyKilledRecently",implyCond:"KilledRecently",tooltip:"This also implies that you have Killed Recently."},{var:"conditionKilledLast3Seconds",type:"check",label:"Have you Killed in the last 3 Seconds?",ifCond:"KilledLast3Seconds",implyCond:"KilledRecently",tooltip:"This also implies that you have Killed Recently."},{var:"conditionKilledPosionedLast2Seconds",type:"check",label:"Killed a poisoned enemy in the last 2 Seconds?",ifCond:"KilledPosionedLast2Seconds",implyCond:"KilledRecently",tooltip:"This also implies that you have Killed Recently."},{var:"conditionTotemsNotSummonedInPastTwoSeconds",type:"check",label:"No summoned Totems in the past 2 seconds?",ifCond:"NoSummonedTotemsInPastTwoSeconds"},{var:"conditionTotemsKilledRecently",type:"check",label:"Have your Totems Killed Recently?",ifCond:"TotemsKilledRecently"},{var:"conditionUsedBrandRecently",type:"check",label:"Have you used a Brand Skill recently?",ifCond:"UsedBrandRecently"},{var:"multiplierTotemsKilledRecently",type:"count",label:"# of Enemies Killed by Totems Recently:",ifMult:"EnemyKilledByTotemsRecently",implyCond:"TotemsKilledRecently",tooltip:"This also implies that your Totems have Killed Recently."},{var:"conditionMinionsKilledRecently",type:"check",label:"Have your Minions Killed Recently?",ifCond:"MinionsKilledRecently"},{var:"conditionMinionsDiedRecently",type:"check",label:"Has a Minion Died Recently?",ifCond:"MinionsDiedRecently"},{var:"multiplierMinionsKilledRecently",type:"count",label:"# of Enemies Killed by Minions Recently:",ifMult:"EnemyKilledByMinionsRecently",implyCond:"MinionsKilledRecently",tooltip:"This also implies that your Minions have Killed Recently."},{var:"conditionKilledAffectedByDoT",type:"check",label:"Killed enemy affected by your DoT Recently?",ifCond:"KilledAffectedByDotRecently"},{var:"multiplierShockedEnemyKilledRecently",type:"count",label:`# of ^${l.LIGHTNING}Shocked ^#Enemies Killed Recently:`,ifMult:"ShockedEnemyKilledRecently"},{var:"conditionFrozenEnemyRecently",type:"check",label:`Have you ^${l.COLD}Frozen ^#an enemy Recently?`,ifCond:"FrozenEnemyRecently"},{var:"conditionChilledEnemyRecently",type:"check",label:`Have you ^${l.COLD}Chilled ^#an enemy Recently?`,ifCond:"ChilledEnemyRecently"},{var:"conditionShatteredEnemyRecently",type:"check",label:`Have you ^${l.COLD}Shattered ^#an enemy Recently?`,ifCond:"ShatteredEnemyRecently"},{var:"conditionIgnitedEnemyRecently",type:"check",label:`Have you ^${l.FIRE}Ignited ^#an enemy Recently?`,ifCond:"IgnitedEnemyRecently"},{var:"conditionShockedEnemyRecently",type:"check",label:`Have you ^${l.LIGHTNING}Shocked ^#an enemy Recently?`,ifCond:"ShockedEnemyRecently"},{var:"conditionStunnedEnemyRecently",type:"check",label:"Have you Stunned an enemy Recently?",ifCond:"StunnedEnemyRecently"},{var:"multiplierPoisonAppliedRecently",type:"count",label:"# of Poisons applied Recently:",ifMult:"PoisonAppliedRecently"},{var:"multiplierLifeSpentRecently",type:"count",label:`# of ^${l.LIFE}Life ^#spent Recently:`,ifMult:"LifeSpentRecently"},{var:"multiplierManaSpentRecently",type:"count",label:`# of ^${l.MANA}Mana ^#spent Recently:`,ifMult:"ManaSpentRecently"},{var:"conditionBeenHitRecently",type:"check",label:"Have you been Hit Recently?",ifCond:"BeenHitRecently"},{var:"multiplierBeenHitRecently",type:"count",label:"# of times you have been Hit Recently:",ifMult:"BeenHitRecently"},{var:"conditionBeenHitByAttackRecently",type:"check",label:"Have you been Hit by an Attack Recently?",ifCond:"BeenHitByAttackRecently"},{var:"conditionBeenCritRecently",type:"check",label:"Have you been Crit Recently?",ifCond:"BeenCritRecently"},{var:"conditionConsumed12SteelShardsRecently",type:"check",label:"Consumed 12 Steel Shards Recently?",ifCond:"Consumed12SteelShardsRecently"},{var:"conditionGainedPowerChargeRecently",type:"check",label:"Gained a Power Charge Recently?",ifCond:"GainedPowerChargeRecently"},{var:"conditionGainedFrenzyChargeRecently",type:"check",label:"Gained a Frenzy Charge Recently?",ifCond:"GainedFrenzyChargeRecently"},{var:"conditionBeenSavageHitRecently",type:"check",label:"Have you taken a Savage Hit Recently?",ifCond:"BeenSavageHitRecently",implyCond:"BeenHitRecently",tooltip:"This also implies that you have been Hit Recently."},{var:"conditionHitByFireDamageRecently",type:"check",label:`Have you been hit by ^${l.FIRE}Fire ^#Recently?`,ifCond:"HitByFireDamageRecently",implyCond:"BeenHitRecently",tooltip:"This also implies that you have been Hit Recently."},{var:"conditionHitByColdDamageRecently",type:"check",label:`Have you been hit by ^${l.COLD}Cold ^#Recently?`,ifCond:"HitByColdDamageRecently",implyCond:"BeenHitRecently",tooltip:"This also implies that you have been Hit Recently."},{var:"conditionHitByLightningDamageRecently",type:"check",label:`Have you been hit by ^${l.LIGHTNING}Light^#. Recently?`,ifCond:"HitByLightningDamageRecently",implyCond:"BeenHitRecently",tooltip:"This also implies that you have been Hit Recently."},{var:"conditionHitBySpellDamageRecently",type:"check",label:"Have you taken Spell Damage Recently?",ifCond:"HitBySpellDamageRecently",implyCond:"BeenHitRecently",tooltip:"This also implies that you have been Hit Recently."},{var:"conditionTakenFireDamageFromEnemyHitRecently",type:"check",label:`Taken ^${l.FIRE}Fire ^#Damage from enemy Hit Recently?`,ifCond:"TakenFireDamageFromEnemyHitRecently",implyCond:"BeenHitRecently",tooltip:"This also implies that you have been Hit Recently."},{var:"conditionBlockedRecently",type:"check",label:"Have you Blocked Recently?",ifCond:"BlockedRecently"},{var:"conditionBlockedAttackRecently",type:"check",label:"Have you Blocked an Attack Recently?",ifCond:"BlockedAttackRecently",implyCond:"BlockedRecently",tooltip:"This also implies that you have Blocked Recently."},{var:"conditionBlockedSpellRecently",type:"check",label:"Have you Blocked a Spell Recently?",ifCond:"BlockedSpellRecently",implyCond:"BlockedRecently",tooltip:"This also implies that you have Blocked Recently."},{var:"conditionEnergyShieldRechargeRecently",type:"check",label:`^${l.ES}Energy Shield ^#Recharge started Recently?`,ifCond:"EnergyShieldRechargeRecently"},{var:"conditionStoppedTakingDamageOverTimeRecently",type:"check",label:"Have you stopped taking DoT recently?",ifCond:"StoppedTakingDamageOverTimeRecently"},{var:"conditionConvergence",type:"check",label:"Do you have Convergence?",ifFlag:"Condition:CanGainConvergence"},{var:"buffPendulum",type:"list",label:"Is Pendulum of Destruction active?",ifCond:"PendulumOfDestructionAreaOfEffect",list:[{value:0,label:"None"},{value:"AREA",label:"Area of Effect"},{value:"DAMAGE",label:"Elemental Damage"}]},{var:"buffConflux",type:"list",label:"Conflux Buff:",ifCond:"ChillingConflux",list:[{value:0,label:"None"},{value:"CHILLING",label:`^${l.COLD}Chilling^#`},{value:"SHOCKING",label:`^${l.LIGHTNING}Shocking^#`},{value:"IGNITING",label:`^${l.FIRE}Igniting^#`},{value:"ALL",label:`^${l.COLD}Chill ^#+ ^${l.LIGHTNING}Shock ^#+ ^${l.FIRE}Ignite^#`}]},{var:"buffBastionOfHope",type:"check",label:"Is Bastion of Hope active?",ifCond:"BastionOfHopeActive"},{var:"buffNgamahuFlamesAdvance",type:"check",label:"Is Ngamahu, Flame's Advance active?",ifCond:"NgamahuFlamesAdvance"},{var:"buffHerEmbrace",type:"check",label:"Are you in Her Embrace?",ifCond:"HerEmbrace",tooltip:"This option is specific to Oni-Goroshi."},{var:"conditionUsedSkillRecently",type:"check",label:"Have you used a Skill Recently?",ifCond:"UsedSkillRecently"},{var:"multiplierSkillUsedRecently",type:"count",label:"# of Skills Used Recently:",ifMult:"SkillUsedRecently",implyCond:"UsedSkillRecently"},{var:"conditionAttackedRecently",type:"check",label:"Have you Attacked Recently?",ifCond:"AttackedRecently",implyCond:"UsedSkillRecently",tooltip:`This also implies that you have used a Skill Recently.
You will automatically be considered to have Attacked Recently if your main skill is an attack,
but you can use this option to force it if necessary.`},{var:"conditionCastSpellRecently",type:"check",label:"Have you Cast a Spell Recently?",ifCond:"CastSpellRecently",implyCond:"UsedSkillRecently",tooltip:`This also implies that you have used a Skill Recently.
You will automatically be considered to have Cast a Spell Recently if your main skill is a spell,
but you can use this option to force it if necessary.`},{var:"conditionCastLast1Seconds",type:"check",label:"Have you Cast a Spell in the last second?",ifCond:"CastLast1Seconds",implyCond:"CastSpellRecently"},{var:"multiplierCastLast8Seconds",type:"count",label:"How many spells cast in the last 8 seconds?",ifMult:"CastLast8Seconds",tooltip:"Only non-instant spells you cast count"},{var:"conditionUsedFireSkillRecently",type:"check",label:`Have you used a ^${l.FIRE}Fire ^#Skill Recently?`,ifCond:"UsedFireSkillRecently",implyCond:"UsedSkillRecently",tooltip:"This also implies that you have used a Skill Recently."},{var:"conditionUsedColdSkillRecently",type:"check",label:`Have you used a ^${l.COLD}Cold ^#Skill Recently?`,ifCond:"UsedColdSkillRecently",implyCond:"UsedSkillRecently",tooltip:"This also implies that you have used a Skill Recently."},{var:"conditionUsedMinionSkillRecently",type:"check",label:"Have you used a Minion Skill Recently?",ifCond:"UsedMinionSkillRecently",implyCond:"UsedSkillRecently",tooltip:`This also implies that you have used a Skill Recently.
You will automatically be considered to have used a Minion skill Recently if your main skill is a Minion skill,
but you can use this option to force it if necessary.`},{var:"conditionUsedTravelSkillRecently",type:"check",label:"Have you used a Travel Skill Recently?",ifCond:"UsedTravelSkillRecently",implyCond:"UsedSkillRecently",tooltip:"This also implies that you have used a Skill Recently+"},{var:"conditionUsedDashRecently",type:"check",label:"Have you cast Dash Recently?",ifCond:"CastDashRecently",implyCondList:["UsedTravelSkillRecently","UsedMovementSkillRecently","UsedSkillRecently"],tooltip:"This also implies that you have used a Skill Recently+"},{var:"conditionUsedMovementSkillRecently",type:"check",label:"Have you used a Movement Skill Recently?",ifCond:"UsedMovementSkillRecently",implyCond:"UsedSkillRecently",tooltip:`This also implies that you have used a Skill Recently.
You will automatically be considered to have used a Movement skill Recently if your main skill is a movement skill,
but you can use this option to force it if necessary.`},{var:"conditionUsedVaalSkillRecently",type:"check",label:"Have you used a Vaal Skill Recently?",ifCond:"UsedVaalSkillRecently",implyCond:"UsedSkillRecently",tooltip:`This also implies that you have used a Skill Recently.
You will automatically be considered to have used a Vaal skill Recently if your main skill is a Vaal skill,
but you can use this option to force it if necessary.`},{var:"conditionSoulGainPrevention",type:"check",label:"Do you have Soul Gain Prevention?",ifCond:"SoulGainPrevention"},{var:"conditionUsedWarcryRecently",type:"check",label:"Have you used a Warcry Recently?",ifCond:"UsedWarcryRecently",implyCondList:["UsedWarcryInPast8Seconds","UsedSkillRecently"],tooltip:"This also implies that you have used a Skill Recently."},{var:"conditionUsedWarcryInPast8Seconds",type:"check",label:"Used a Warcry in the past 8 seconds?",ifCond:"UsedWarcryInPast8Seconds"},{var:"multiplierMineDetonatedRecently",type:"count",label:"# of Mines Detonated Recently:",ifMult:"MineDetonatedRecently"},{var:"multiplierTrapTriggeredRecently",type:"count",label:"# of Traps Triggered Recently:",ifMult:"TrapTriggeredRecently"},{var:"conditionThrownTrapOrMineRecently",type:"check",label:"Have you thrown a Trap or Mine Recently?",ifCond:"TrapOrMineThrownRecently"},{var:"conditionCursedEnemyRecently",type:"check",label:"Have you Cursed an enemy Recently?",ifCond:"CursedEnemyRecently"},{var:"conditionCastMarkRecently",type:"check",label:"Have you cast a Mark Spell Recently?",ifCond:"CastMarkRecently"},{var:"conditionSpawnedCorpseRecently",type:"check",label:"Spawned a corpse Recently?",ifCond:"SpawnedCorpseRecently"},{var:"conditionConsumedCorpseRecently",type:"check",label:"Consumed a corpse Recently?",ifCond:"ConsumedCorpseRecently"},{var:"conditionConsumedCorpseInPast2Sec",type:"check",label:"Consumed a corpse in the past 2s?",ifCond:"ConsumedCorpseInPast2Sec",implyCond:"ConsumedCorpseRecently",tooltip:"This also implies you have 'Consumed a corpse Recently'"},{var:"multiplierCorpseConsumedRecently",type:"count",label:"# of Corpses Consumed Recently:",ifMult:"CorpseConsumedRecently",implyCond:"ConsumedCorpseRecently"},{var:"multiplierWarcryUsedRecently",type:"count",label:"# of Warcries Used Recently:",ifMult:"WarcryUsedRecently",implyCondList:["UsedWarcryRecently","UsedWarcryInPast8Seconds","UsedSkillRecently"],tooltip:"This also implies you have 'Used a Warcry Recently', 'Used a Warcry in the past 8 seconds', and 'Used a Skill Recently'"},{var:"conditionTauntedEnemyRecently",type:"check",label:"Taunted an enemy Recently?",ifCond:"TauntedEnemyRecently"},{var:"conditionLostEnduranceChargeInPast8Sec",type:"check",label:"Lost an Endurance Charge in the past 8s?",ifCond:"LostEnduranceChargeInPast8Sec"},{var:"multiplierEnduranceChargesLostRecently",type:"count",label:"# of Endurance Charges lost Recently:",ifMult:"EnduranceChargesLostRecently",implyCond:"LostEnduranceChargeInPast8Sec"},{var:"conditionBlockedHitFromUniqueEnemyInPast10Sec",type:"check",label:"Blocked a Hit from a Unique enemy in the past 10s?",ifCond:"BlockedHitFromUniqueEnemyInPast10Sec"},{var:"BlockedPast10Sec",type:"count",label:"Number of times you've Blocked in the past 10s",ifCond:"BlockedHitFromUniqueEnemyInPast10Sec"},{var:"conditionImpaledRecently",type:"check",ifCond:"ImpaledRecently",label:"Impaled an enemy recently?"},{var:"multiplierImpalesOnEnemy",type:"countAllowZero",label:"# of Impales on enemy (if not maximum):",ifFlag:"impale"},{var:"multiplierBleedsOnEnemy",type:"count",label:"# of Bleeds on enemy (if not maximum):",ifFlag:"Condition:HaveCrimsonDance",tooltip:`Sets current number of Bleeds on the enemy if using the Crimson Dance keystone.
This also implies that the enemy is Bleeding.`},{var:"multiplierFragileRegrowth",type:"count",label:"# of Fragile Regrowth Stacks:",ifMult:"FragileRegrowthCount"},{var:"conditionKilledUniqueEnemy",type:"check",label:"Killed a Rare or Unique enemy Recently?",ifCond:"KilledUniqueEnemy"},{var:"conditionHaveArborix",type:"check",label:"Do you have Iron Reflexes?",ifFlag:"Condition:HaveArborix",tooltip:"This option is specific to Arborix."},{var:"conditionHaveAugyre",type:"list",label:"Augyre rotating buff:",ifFlag:"Condition:HaveAugyre",list:[{value:"EleOverload",label:"Elemental Overload"},{value:"ResTechnique",label:"Resolute Technique"}],tooltip:"This option is specific to Augyre."},{var:"conditionHaveVulconus",type:"check",label:"Do you have Avatar Of Fire?",ifFlag:"Condition:HaveVulconus",tooltip:"This option is specific to Vulconus."},{var:"conditionHaveManaStorm",type:"check",label:`Do you have Manastorm's ^${l.LIGHTNING}Lightning ^#Buff?`,ifFlag:"Condition:HaveManaStorm",tooltip:`This option enables Manastorm's ^${l.LIGHTNING}Lightning ^#Damage Buff.
(When you cast a Spell, Sacrifice all ^${l.MANA}Mana ^#to gain Added Maximum ^${l.LIGHTNING}Lightning ^#Damage
equal to 25% of Sacrificed ^${l.MANA}Mana ^#for 4 seconds)`},{var:"buffFanaticism",type:"check",label:"Do you have Fanaticism?",ifFlag:"Condition:CanGainFanaticism",tooltip:`This will enable the Fanaticism buff itself. (Grants 75% more cast speed, reduced ^${l.MANA}mana ^#cost, and increased area of effect)`}]},{name:"For Effective DPS",variables:[{var:"critChanceLucky",type:"check",label:"Is your Crit Chance Lucky?"},{var:"skillForkCount",type:"count",label:"# of times Skill has Forked:",ifFlag:"forking"},{var:"skillChainCount",type:"count",label:"# of times Skill has Chained:",ifFlag:"chaining"},{var:"skillPierceCount",type:"count",label:"# of times Skill has Pierced:",ifFlag:"piercing"},{var:"meleeDistance",type:"count",label:"Melee distance to enemy:",ifFlag:"melee"},{var:"projectileDistance",type:"count",label:"Projectile travel distance:",ifFlag:"projectile"},{var:"conditionAtCloseRange",type:"check",label:"Is the enemy at Close Range?",ifCond:"AtCloseRange"},{var:"conditionEnemyMoving",type:"check",label:"Is the enemy Moving?"},{var:"conditionEnemyFullLife",type:"check",label:`Is the enemy on Full ^${l.LIFE}Life^#?`,ifEnemyCond:"FullLife"},{var:"conditionEnemyLowLife",type:"check",label:`Is the enemy on Low ^${l.LIFE}Life^#?`,ifEnemyCond:"LowLife"},{var:"conditionEnemyCursed",type:"check",label:"Is the enemy Cursed?",ifEnemyCond:"Cursed",tooltip:`The enemy will automatically be considered to be Cursed if you have at least one curse enabled,
but you can use this option to force it if necessary.`},{var:"conditionEnemyBleeding",type:"check",label:"Is the enemy Bleeding?"},{var:"multiplierRuptureStacks",type:"count",label:"# of Rupture stacks?",ifFlag:"Condition:CanInflictRupture",tooltip:"Rupture applies 25% more bleed damage and 25% faster bleeds for 3 seconds, up to 3 stacks"},{var:"conditionEnemyPoisoned",type:"check",label:"Is the enemy Poisoned?",ifEnemyCond:"Poisoned"},{var:"multiplierPoisonOnEnemy",type:"count",label:"# of Poison on enemy:",implyCond:"Poisoned"},{var:"multiplierWitheredStackCount",type:"count",label:"# of Withered Stacks:",ifFlag:"Condition:CanWither",tooltip:`Withered applies 6% increased ^${l.CHAOS}Chaos ^#Damage Taken to the enemy, up to 15 stacks.`},{var:"multiplierCorrosionStackCount",type:"count",label:"# of Corrosion Stacks:",ifFlag:"Condition:CanCorrode",tooltip:`Each stack of Corrosion applies -5000 to total Armour and -1000 to total ^${l.POSITIVE}Evasion Rating ^#to the enemy.
Corrosion lasts 4 seconds and refreshes the duration of existing Corrosion stacks
Corrosion has no stack limit`},{var:"multiplierEnsnaredStackCount",type:"count",label:"# of Ensnare Stacks:",ifSkill:"Ensnaring Arrow",tooltip:`While ensnared, enemies take increased Projectile Damage from Attack Hits
Ensnared enemies always count as moving, and have less movement speed while trying to break the snare.`},{var:"conditionEnemyMaimed",type:"check",label:"Is the enemy Maimed?"},{var:"conditionEnemyHindered",type:"check",label:"Is the enemy Hindered?",ifEnemyCond:"Hindered"},{var:"conditionEnemyBlinded",type:"check",label:"Is the enemy Blinded?",tooltip:`In addition to allowing 'against Blinded Enemies' modifiers to apply,
 Blind applies the following effects.
 -20% Accuracy 
 -20% ^${l.POSITIVE}Evasion^#`},{var:"overrideBuffBlinded",type:"count",label:"Effect of Blind (if not maximum):",ifOption:"conditionEnemyBlinded",tooltip:"If you have a guaranteed source of Blind, the strongest one will apply."},{var:"conditionEnemyTaunted",type:"check",label:"Is the enemy Taunted?",ifEnemyCond:"Taunted"},{var:"conditionEnemyBurning",type:"check",label:`Is the enemy ^${l.FIRE}Burning^#?`},{var:"conditionEnemyIgnited",type:"check",label:`Is the enemy ^${l.FIRE}Ignited^#?`,implyCond:"Burning",tooltip:`This also implies that the enemy is ^${l.FIRE}Burning^#.`},{var:"conditionEnemyScorched",type:"check",ifFlag:"inflictScorch",label:`Is the enemy ^${l.FIRE}Scorched^#?`,tooltip:`^${l.FIRE}Scorched ^#enemies have lowered elemental resistances, up to -30%.
This option will also allow you to input the effect of ^${l.FIRE}Scorched^#.`},{var:"conditionScorchedEffect",type:"count",label:`Effect of ^${l.FIRE}Scorched^#:`,ifOption:"conditionEnemyScorched",tooltip:`This effect will only be applied while you can inflict ^${l.FIRE}Scorched^#.`},{var:"conditionEnemyOnScorchedGround",type:"check",label:`Is the enemy on ^${l.FIRE}Scorched ^#Ground?`,tooltip:`This also implies that the enemy is ^${l.FIRE}Scorched^#.`,ifEnemyCond:"OnScorchedGround"},{var:"conditionEnemyChilled",type:"check",label:`Is the enemy ^${l.COLD}Chilled^#?`},{var:"conditionEnemyChilledEffect",type:"count",label:`Effect of ^${l.COLD}Chill^#:`,ifOption:"conditionEnemyChilled"},{var:"conditionEnemyChilledByYourHits",type:"check",ifEnemyCond:"ChilledByYourHits",label:`Is the enemy ^${l.COLD}Chilled ^#by your Hits?`},{var:"conditionEnemyFrozen",type:"check",label:`Is the enemy ^${l.COLD}Frozen^#?`,implyCond:"Chilled",tooltip:`This also implies that the enemy is ^${l.COLD}Chilled^#.`},{var:"conditionEnemyBrittle",type:"check",ifFlag:"inflictBrittle",label:`Is the enemy ^${l.COLD}Brittle^#?`,tooltip:`Hits against ^${l.COLD}Brittle ^#enemies have up to +15% Critical Strike Chance.
This option will also allow you to input the effect of ^${l.COLD}Brittle^#.`},{var:"conditionBrittleEffect",type:"count",label:`Effect of ^${l.COLD}Brittle^#:`,ifOption:"conditionEnemyBrittle",tooltip:`This effect will only be applied while you can inflict ^${l.COLD}Brittle^#.`},{var:"conditionEnemyOnBrittleGround",type:"check",label:`Is the enemy on ^${l.COLD}Brittle ^#Ground?`,tooltip:`This also implies that the enemy is ^${l.COLD}Brittle^#.`,ifEnemyCond:"OnBrittleGround"},{var:"conditionEnemyShocked",type:"check",label:`Is the enemy ^${l.LIGHTNING}Shocked^#?`,tooltip:`In addition to allowing any 'against ^${l.LIGHTNING}Shocked ^#Enemies' modifiers to apply,
this will allow you to input the effect of the ^${l.LIGHTNING}Shock ^#applied to the enemy.`},{var:"conditionShockEffect",type:"count",label:`Effect of ^${l.LIGHTNING}Shock^#:`,tooltip:`If you have a guaranteed source of ^${l.LIGHTNING}Shock^#,
the strongest one will apply instead unless this option would apply a stronger ^${l.LIGHTNING}Shock^#.`},{var:"conditionEnemyOnShockedGround",type:"check",label:`Is the enemy on ^${l.LIGHTNING}Shocked ^#Ground?`,tooltip:`This also implies that the enemy is ^${l.LIGHTNING}Shocked^#.`,ifEnemyCond:"OnShockedGround"},{var:"conditionEnemySapped",type:"check",ifFlag:"inflictSap",label:`Is the enemy ^${l.LIGHTNING}Sapped^#?`,tooltip:`^${l.LIGHTNING}Sapped ^#enemies deal less damage, up to 20%.`},{var:"conditionSapEffect",type:"count",label:`Effect of ^${l.LIGHTNING}Sap^#:`,ifOption:"conditionEnemySapped",tooltip:`If you have a guaranteed source of ^${l.LIGHTNING}Sap^#,
the strongest one will apply instead unless this option would apply a stronger ^${l.LIGHTNING}Sap^#.`},{var:"conditionEnemyOnSappedGround",type:"check",label:`Is the enemy on ^${l.LIGHTNING}Sapped ^#Ground?`,tooltip:`This also implies that the enemy is ^${l.LIGHTNING}Sapped^#.`,ifEnemyCond:"OnSappedGround"},{var:"multiplierFreezeShockIgniteOnEnemy",type:"count",label:`# of ^${l.COLD}Freeze ^#/ ^${l.LIGHTNING}Shock ^#/ ^${l.FIRE}Ignite ^#on enemy:`,ifMult:"FreezeShockIgniteOnEnemy"},{var:"conditionEnemyFireExposure",type:"check",label:`Is the enemy Exposed to ^${l.FIRE}Fire^#?`,ifFlag:"applyFireExposure",tooltip:`This applies -10% ^${l.FIRE}Fire Resistance ^#to the enemy.`},{var:"conditionEnemyColdExposure",type:"check",label:`Is the enemy Exposed to ^${l.COLD}Cold^#?`,ifFlag:"applyColdExposure",tooltip:`This applies -10% ^${l.COLD}Cold Resistance ^#to the enemy.`},{var:"conditionEnemyLightningExposure",type:"check",label:`Is the enemy Exposed to ^${l.LIGHTNING}Lightning^#?`,ifFlag:"applyLightningExposure",tooltip:`This applies -10% ^${l.LIGHTNING}Lightning Resistance ^#to the enemy.`},{var:"conditionEnemyIntimidated",type:"check",label:"Is the enemy Intimidated?",tooltip:"Intimidated enemies take 10% increased Attack Damage."},{var:"conditionEnemyCrushed",type:"check",label:"Is the enemy Crushed?",tooltip:"Crushed enemies have 15% reduced Physical Damage Reduction."},{var:"conditionNearLinkedTarget",type:"check",label:"Is the enemy near you Linked target?",ifEnemyCond:"NearLinkedTarget"},{var:"conditionEnemyUnnerved",type:"check",label:"Is the enemy Unnerved?",tooltip:"Unnerved enemies take 10% increased Spell Damage."},{var:"conditionEnemyCoveredInAsh",type:"check",label:"Is the enemy covered in Ash?",tooltip:`Covered in Ash applies the following to the enemy:
	20% increased ^${l.FIRE}Fire ^#Damage taken
	20% less Movement Speed`},{var:"conditionEnemyCoveredInFrost",type:"check",label:"Is the enemy covered in Frost?",tooltip:`Covered in Frost applies the following to the enemy:
	20% increased ^${l.COLD}Cold ^#Damage taken
	50% less Critical Strike Chance`},{var:"conditionEnemyOnConsecratedGround",type:"check",label:"Is the enemy on Consecrated Ground?"},{var:"conditionEnemyOnProfaneGround",type:"check",label:"Is the enemy on Profane Ground?",ifFlag:"Condition:CreateProfaneGround",tooltip:`Enemies on Profane Ground receive the following modifiers:
	-10% to all Resistances
	+1% chance to be Critically Hit`},{var:"multiplierEnemyAffectedByGraspingVines",type:"count",label:"# of Grasping Vines affecting enemy:",ifMult:"GraspingVinesAffectingEnemy"},{var:"conditionEnemyOnFungalGround",type:"check",label:"Is the enemy on Fungal Ground?",ifCond:"OnFungalGround",tooltip:"Enemies on your Fungal Ground deal 10% less Damage."},{var:"conditionEnemyInChillingArea",type:"check",label:`Is the enemy in a ^${l.COLD}Chilling ^#area?`,ifEnemyCond:"InChillingArea"},{var:"conditionEnemyInFrostGlobe",type:"check",label:"Is the enemy in the Frost Shield area?",ifEnemyCond:"EnemyInFrostGlobe"},{var:"enemyConditionHitByFireDamage",type:"check",label:`Enemy was Hit by ^${l.FIRE}Fire ^#Damage?`,ifFlag:"ElementalEquilibrium"},{var:"enemyConditionHitByColdDamage",type:"check",label:`Enemy was Hit by ^${l.COLD}Cold ^#Damage?`,ifFlag:"ElementalEquilibrium"},{var:"enemyConditionHitByLightningDamage",type:"check",label:`Enemy was Hit by ^${l.LIGHTNING}Light^#. Damage?`,ifFlag:"ElementalEquilibrium"},{var:"EEIgnoreHitDamage",type:"check",label:"Ignore Skill Hit Damage?",ifFlag:"ElementalEquilibrium",tooltip:"This option prevents EE from being reset by the hit damage of your main skill."}]},{name:"Enemy Stats",variables:[{var:"enemyLevel",type:"count",label:"Enemy Level:",tooltip:`This overrides the default enemy level used to estimate your hit and ^${l.POSITIVE}evade ^#chances.
The default level is your character level, capped at 85, which is the same value
used in-game to calculate the stats on the character sheet.`},{var:"conditionEnemyRareOrUnique",type:"check",label:"Is the enemy Rare or Unique?",ifEnemyCond:"EnemyRareOrUnique",tooltip:`The enemy will automatically be considered to be Unique if they are a Boss,
but you can use this option to force it if necessary.`},{var:"enemyIsBoss",type:"list",label:"Is the enemy a Boss?",tooltip:`
Bosses' damage is monster damage scaled to an average damage of their attacks
This is divided by 4.25 to represent 4 damage types + some ^${l.CHAOS}chaos
^#Fill in the exact damage numbers if more precision is needed

Standard Boss adds the following modifiers:
	33% less Effect of your Hexes
	+40% to enemy Elemental Resistances
	+25% to enemy ^${l.CHAOS}Chaos Resistance
	^#94% of monster damage

Guardian / Pinnacle Boss adds the following modifiers:
	66% less Effect of your Hexes
	+50% to enemy Elemental Resistances
	+30% to enemy ^${l.CHAOS}Chaos Resistance
	^#+33% to enemy Armour
	188% of monster damage
	5% penetration

Uber Pinnacle Boss adds the following modifiers:
	66% less Effect of your Hexes
	+50% to enemy Elemental Resistances
	+30% to enemy ^${l.CHAOS}Chaos Resistance
	^#+100% to enemy Armour
	70% less to enemy Damage taken
	235% of monster damage
	8% penetration
	`,list:[{value:"None",label:"No"},{value:"Boss",label:"Standard Boss"},{value:"Pinnacle",label:"Guardian/Pinnacle Boss"},{value:"Uber",label:"Uber Pinnacle Boss"}]},{var:"deliriousPercentage",type:"list",label:"Delirious Effect:",list:[{value:0,label:"None"},{value:"20Percent",label:"20% Delirious"},{value:"40Percent",label:"40% Delirious"},{value:"60Percent",label:"60% Delirious"},{value:"80Percent",label:"80% Delirious"},{value:"100Percent",label:"100% Delirious"}],tooltip:`Delirium scales enemy 'less Damage Taken' as well as enemy 'increased Damage dealt'
At 100% effect:
Enemies Deal 30% Increased Damage
Enemies take 96% Less Damage`},{var:"enemyPhysicalReduction",type:"integer",label:"Enemy Phys. Damage Reduction:"},{var:"enemyLightningResist",type:"integer",label:`Enemy ^${l.LIGHTNING}Lightning Resistance^#:`},{var:"enemyColdResist",type:"integer",label:`Enemy ^${l.COLD}Cold Resistance^#:`},{var:"enemyFireResist",type:"integer",label:`Enemy ^${l.FIRE}Fire Resistance^#:`},{var:"enemyChaosResist",type:"integer",label:`Enemy ^${l.CHAOS}Chaos Resistance^#:`},{var:"presetBossSkills",type:"list",label:"Boss Skill Preset",tooltip:`
Used to fill in defaults for specific boss skills if the boss config is not set

Bosses' damage is assumed at a 2/3 roll, with no Atlas passives, at the normal monster level for your character level (capped at 84)
Fill in the exact damage numbers if more precision is needed

Caveats for certain skills are below

Shaper Ball: Allocating Cosmic Wounds increases the penetration to 40% and adds 2 projectiles
Shaper Slam: Cannot be Evaded.  Allocating Cosmic Wounds doubles the damage and cannot be blocked or dodged
Maven Memory Game: Is three separate hits, and has a large DoT effect.  Neither is taken into account here.  i.e. Hits before death should be >: 4 to survive`,list:[{value:"None",label:"None"},{value:"Uber Atziri Flameblast",label:"Uber Atziri Flameblast"},{value:"Shaper Ball",label:"Shaper Ball"},{value:"Shaper Slam",label:"Shaper Slam"},{value:"Maven Memory Game",label:"Maven Memory Game"}]},{var:"enemyDamageType",type:"list",label:"Enemy Damage Type:",tooltip:`Controls which types of damage the EHP calculation uses:
	Average: uses the Average of all damage types

If a specific damage type is selected, that will be the only type used.`,list:[{value:"Average",label:"Average"},{value:"Melee",label:"Melee"},{value:"Projectile",label:"Projectile"},{value:"Spell",label:"Spell"},{value:"SpellProjectile",label:"Projectile Spell"}]},{var:"enemySpeed",type:"integer",label:"Enemy attack / cast time in ms:",defaultPlaceholderState:700},{var:"enemyCritChance",type:"integer",label:"Enemy critical strike chance:",defaultPlaceholderState:5},{var:"enemyCritDamage",type:"integer",label:"Enemy critical strike multipler:",defaultPlaceholderState:30},{var:"enemyPhysicalDamage",type:"integer",label:"Enemy Skill Physical Damage:",tooltip:`This overrides the default damage amount used to estimate your damage reduction from armour.
The default is 1.5 times the enemy's base damage, which is the same value
used in-game to calculate the estimate shown on the character sheet.`},{var:"enemyLightningDamage",type:"integer",label:`Enemy Skill ^${l.LIGHTNING}Lightning Damage^#:`},{var:"enemyLightningPen",type:"integer",label:`Enemy Skill ^${l.LIGHTNING}Lightning Pen^#:`},{var:"enemyColdDamage",type:"integer",label:`Enemy Skill ^${l.COLD}Cold Damage^#:`},{var:"enemyColdPen",type:"integer",label:`Enemy Skill ^${l.COLD}Cold Pen^#:`},{var:"enemyFireDamage",type:"integer",label:`Enemy Skill ^${l.FIRE}Fire Damage^#:`},{var:"enemyFirePen",type:"integer",label:`Enemy Skill ^${l.FIRE}Fire Pen^#:`},{var:"enemyChaosDamage",type:"integer",label:`Enemy Skill ^${l.CHAOS}Chaos Damage^#:`}]}].reduce((s,v)=>({...s,...v.variables.reduce((f,b)=>({...f,[b.var]:b}),{})}),{});class Ot{constructor(){se(this,"_currentBuild");se(this,"booted",!1);se(this,"callback");se(this,"currentBuildStore")}get currentBuild(){return this._currentBuild}set currentBuild(v){this._currentBuild=v,this.updateStore()}updateStore(){var v;this.currentBuildStore&&this._currentBuild&&(console.log("SKILLS:",(v=this._currentBuild)==null?void 0:v.Skills),this.currentBuildStore.set(Re(this._currentBuild)))}boot(v,f,b){return this.callback=f,this.booted=!0,this.currentBuildStore=b,new Promise(h=>{const d=new Go;WebAssembly.instantiate(v,d.importObject).then(async k=>{d.run(k.instance),Nt(),Xe.InitLogging(!1),await je.InitializeDiskCache(async C=>{const A=await Ae.getItem(C);return A||new Uint8Array(0)},async(C,A)=>{await Ae.setItem(C,A)},async C=>await Ae.getItem(C)instanceof Uint8Array),h(void 0)})})}async loadData(v){const f=Date.now(),b=await Qe.InitializeAll("3.18",v);console.log("Initialization took",Date.now()-f,"ms"),b&&console.error(b)}ImportCode(v){const[f,b]=Ie.DecodeDecompress(v);if(b)throw b;const[h,d]=Ye.ParseBuildStr(f);if(d)throw d;this.currentBuild=h}async Tick(v){if(!this.currentBuild)return;const f=qe.NewCalculator(this.currentBuild);if(!f)return;console.log("TICK from",v);const b=await f.BuildOutput("MAIN");!b||!b.Player||!b.Player.MainSkill||this.callback&&(this.callback({Output:b.Player.Output,OutputTable:b.Player.OutputTable,SkillFlags:b.Player.MainSkill.SkillFlags}),console.log("Errors from last tick:"),console.log(b.DebugErrors))}SetConfigOption(v,f){if(!this.currentBuild||!this.currentBuild.Config.Inputs)return;let b;const h=_t[v];switch(h.type){case"list":b=f===h.list[0].value;break;case"check":h.defaultState!==void 0?b=f===h.defaultState:b=f===!1;break;default:b=f===null;break}if(b){this.currentBuild.RemoveConfigOption(v),this.updateStore(),this.Tick("SetConfigOption: remove");return}const d={Name:v};switch(typeof f){case"boolean":d.Boolean=f;break;case"string":d.String=f;break;case"number":d.Number=f;break}this.currentBuild.SetConfigOption(d),this.updateStore(),this.Tick("SetConfigOption: change")}GetConfigOption(v){if(!this.currentBuild||!this.currentBuild.Config.Inputs)return;const f=this.currentBuild.Config.Inputs.find(b=>b.Name===v);if(f){if(f.String!==void 0)return f.String;if(f.Number!==void 0)return f.Number;if(f.Boolean!==void 0)return f.Boolean}}SetMainSocketGroup(v){var f;(f=this.currentBuild)==null||f.SetMainSocketGroup(v),this.Tick("SetMainSocketGroup")}GetSkillGems(){return Re(he.GetSkillGems())}async GetTree(v){const f=await he.GetRawTree(v);if(!f)throw new Error("Failed loading tree");return new TextDecoder().decode(f)}SetClass(v){var f;(f=this.currentBuild)==null||f.SetClass(v),this.Tick("SetClass")}SetAscendancy(v){var f;(f=this.currentBuild)==null||f.SetAscendancy(v),this.Tick("SetAscendancy")}SetLevel(v){var f;(f=this.currentBuild)==null||f.SetLevel(v),this.Tick("SetLevel")}AllocateNodes(v){var f;(f=this.currentBuild)==null||f.AllocateNodes(v),this.Tick("AllocateNode")}DeallocateNodes(v){var f;(f=this.currentBuild)==null||f.DeallocateNodes(v),this.Tick("DeallocateNode")}CalculateTreePath(v,f,b){return he.CalculateTreePath(v,f,b)}BuildInfo(){return Je(Ie.BuildInfo)}}ke(new Ot)})();
