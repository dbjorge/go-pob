import{an as m,a4 as A,ao as L,a0 as O,a2 as g,ab as h,a3 as E,n as j,F as _,aj as H,a1 as I,ap as Y,ah as k,a8 as C,aq as M,a6 as S,D as V,p as $,l as w,ad as q,e as F,G}from"./runtime.BLVj8dz7.js";import{j as W,r as D,k as p}from"./props.BmCjkDKm.js";import{d as z}from"./disclose-version.BiKuDWK2.js";import{i as B}from"./utils.Bzy8hHY9.js";function X(a,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(a.__t??(a.__t=a.nodeValue))&&(a.__t=n,a.nodeValue=n==null?"":n+"")}function J(a,e){return N(a,e)}function Z(a,e){m(),e.intro=e.intro??!1;const n=e.target,l=w,u=_;try{for(var t=A(n);t&&(t.nodeType!==8||t.data!==L);)t=O(t);if(!t)throw g;h(!0),E(t),j();const i=N(a,{...e,anchor:t});if(_===null||_.nodeType!==8||_.data!==H)throw I(),g;return h(!1),i}catch(i){if(i===g)return e.recover===!1&&Y(),m(),k(n),h(!1),J(a,e);throw i}finally{h(l),E(u)}}const d=new Map;function N(a,{target:e,anchor:n,props:l={},events:u,context:t,intro:i=!0}){m();var y=new Set,v=o=>{for(var r=0;r<o.length;r++){var s=o[r];if(!y.has(s)){y.add(s);var f=B(s);e.addEventListener(s,p,{passive:f});var T=d.get(s);T===void 0?(document.addEventListener(s,p,{passive:f}),d.set(s,1)):d.set(s,T+1)}}};v(C(W)),D.add(v);var c=void 0,b=M(()=>{var o=n??e.appendChild(S());return V(()=>{if(t){$({});var r=G;r.c=t}u&&(l.$$events=u),w&&z(o,null),c=a(o,l)||{},w&&(q.nodes_end=_),t&&F()}),()=>{var f;for(var r of y){e.removeEventListener(r,p);var s=d.get(r);--s===0?(document.removeEventListener(r,p),d.delete(r)):d.set(r,s)}D.delete(v),R.delete(c),o!==n&&((f=o.parentNode)==null||f.removeChild(o))}});return R.set(c,b),c}let R=new WeakMap;function x(a){const e=R.get(a);e&&e()}export{Z as h,J as m,X as s,x as u};
