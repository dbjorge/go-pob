import{q as R,C as u,D as T,E as d,l as c,n as S,J as k,a9 as q,aa as x,a3 as D,ab as E,F,Q as N,R as b,P as g,x as C,aD as L}from"./runtime.BLVj8dz7.js";function P(s,f,e,n=null,i=!1){c&&S();var a=s,r=null,t=null,l=null,y=i?k:0;R(()=>{if(l===(l=!!f()))return;let h=!1;if(c){const A=a.data===q;l===A&&(a=x(),D(a),E(!1),h=!0)}l?(r?u(r):r=T(()=>e(a)),t&&d(t,()=>{t=null})):(t?u(t):n&&(t=T(()=>n(a))),r&&d(r,()=>{r=null})),h&&E(!0)},y),c&&(a=F)}function _(s,f){return s===f||(s==null?void 0:s[L])===f}function Y(s={},f,e,n){return N(()=>{var i,a;return b(()=>{i=a,a=[],g(()=>{s!==e(...a)&&(f(s,...a),i&&_(e(...i),s)&&f(null,...i))})}),()=>{C(()=>{a&&_(e(...a),s)&&f(null,...a)})}}),s}export{Y as b,P as i};
