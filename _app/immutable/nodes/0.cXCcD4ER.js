import{c as ie,a as S,t as E,b as ct}from"../chunks/disclose-version.BiKuDWK2.js";import{l as Re,n as ut,o as ft,q as dt,v as vt,w as Ae,x as mt,U as Ye,y as Je,m as Xe,z as Ke,A as Ze,B as Qe,C as Fe,D as Be,E as Ne,f as pt,F as bt,G as gt,p as Pe,g as D,a as me,c as u,i as d,b as A,e as Ce,h as re,s as F,r as f,j as se,H as St,I as _t}from"../chunks/runtime.BLVj8dz7.js";import{s as Z}from"../chunks/render.BuL6tNdg.js";import{i as K,b as ht}from"../chunks/this.Dx7VmjCJ.js";import{s as Pt}from"../chunks/snippet.Dba1K6CO.js";import{r as Ct,s as te}from"../chunks/attributes.DpYvJWZY.js";import{s as ke,b as Ee,a as ge,c as ae,m as xt,d as Le,e as wt}from"../chunks/props.BmCjkDKm.js";import{b as je,G as Dt}from"../chunks/cache.BpZul505.js";import{N as Tt}from"../chunks/NumberInput.K2RCBNXe.js";import{s as G,c as pe,l as V,f as We,o as it,p as Oe,a as It}from"../chunks/global.Dt1GEbnv.js";import{w as ye,g as Ue}from"../chunks/index.Bnwk7SW7.js";import{e as _e,i as he}from"../chunks/each.CwAL-BON.js";import{c as r}from"../chunks/colors.DCgE6yJT.js";import{b as ve,a as Et}from"../chunks/paths.KXuJOpDI.js";import{o as yt}from"../chunks/index-client.CWFbZt41.js";import{b as kt}from"../chunks/input.CgTgWgY3.js";import"../chunks/legacy.CY-94a-c.js";import{i as Mt}from"../chunks/lifecycle.BIiKv-Jy.js";import{c as Lt}from"../chunks/svelte-component.KE6m_5YJ.js";const He=0,Me=1,$e=2;function Ve(t,e,b,s,_){Re&&ut();var m=t,h=ft(),g=gt,P=Ye,p,o,v,l=(h?Je:Xe)(void 0),a=(h?Je:Xe)(void 0),n=!1;function y(c,x){n=!0,x&&(Ke(i),Ze(i),Qe(g));try{c===He&&b&&(p?Fe(p):p=Be(()=>b(m))),c===Me&&s&&(o?Fe(o):o=Be(()=>s(m,l))),c===$e&&_&&(v?Fe(v):v=Be(()=>_(m,a))),c!==He&&p&&Ne(p,()=>p=null),c!==Me&&o&&Ne(o,()=>o=null),c!==$e&&v&&Ne(v,()=>v=null)}finally{x&&(Qe(null),Ze(null),Ke(null),pt())}}var i=dt(()=>{if(P!==(P=e())){if(vt(P)){var c=P;n=!1,c.then(x=>{c===P&&(Ae(l,x),y(Me,!0))},x=>{if(c===P)throw Ae(a,x),y($e,!0),a.v}),Re||mt(()=>{n||y(He,!0)})}else Ae(l,P),y(Me,!1);return()=>P=Ye}});Re&&(m=bt)}var Rt=E("<option>Ascendant</option>"),At=E("<option>Juggernaut</option> <option>Berserker</option> <option>Chieftain</option>",1),Ft=E("<option>Raider</option> <option>Deadeye</option> <option>Pathfinder</option>",1),Bt=E("<option>Occultist</option> <option>Elementalist</option> <option>Necromancer</option>",1),Nt=E("<option>Slayer</option> <option>Gladiator</option> <option>Champion</option>",1),Ot=E("<option>Inquisitor</option> <option>Hierophant</option> <option>Guardian</option>",1),Ht=E("<option>Assassin</option> <option>Trickster</option> <option>Saboteur</option>",1),$t=E('<div class="flex flex-row w-screen border-b-2 border-white bg-neutral-800 min-h-[3em]"><div class="flex flex-row justify-between border-r-2 border-white p-2 flex-1 items-center"><div class="flex flex-row gap-3 items-center"><button class="container">&lt;&lt; Back</button> <div class="flex flex-row items-center"><span>Current Build:</span> <div class="ml-2 container">Unnamed build</div></div> <button class="container">Save</button> <button class="container">Save As</button></div> <div class="container h-fit"><span>0 / 123</span> <span class="ml-3">0 / 8</span></div></div> <div class="flex flex-row p-2 flex-1 items-center gap-3"><!> <div class="container select-wrapper"><select class="input"><option>Duelist</option><option>Marauder</option><option>Ranger</option><option>Scion</option><option>Shadow</option><option>Templar</option><option>Witch</option></select></div> <div class="container select-wrapper"><select class="input"><option>None</option><!></select></div></div></div>');function Gt(t,e){Pe(e,!0);const b=ke(),s=()=>ae(pe,"$currentBuild",b),_=()=>ae(l,"$currentLevel",b),m=()=>ae(o,"$currentClass",b),h=()=>ae(v,"$currentAscendancy",b);let g=re(!0),P=re(!0),p=re(!0);const o=ye(),v=ye(),l=ye(1);o.subscribe(async C=>{var w,L;D(g)||!C||(await((w=G)==null?void 0:w.SetClass(C)),await((L=G)==null?void 0:L.SetAscendancy("None")),pe.set(s()))}),v.subscribe(async C=>{var w;D(P)||!C||(await((w=G)==null?void 0:w.SetAscendancy(C)),pe.set(s()))}),l.subscribe(async C=>{var w;D(p)||(await((w=G)==null?void 0:w.SetLevel(C)),pe.set(s()))}),me(()=>{var C,w,L;(L=(w=(C=s())==null?void 0:C.Build)==null?void 0:w.ClassName)==null||L.then(Q=>{F(g,!0),o.set(Q),F(g,!1)}).catch(V)}),me(()=>{var C,w;(w=(C=s())==null?void 0:C.Build)==null||w.AscendClassName.then(L=>{F(P,!0),v.set(L),F(P,!1)}).catch(V)}),me(()=>{var C,w;(w=(C=s())==null?void 0:C.Build)==null||w.Level.then(L=>{F(p,!0),l.set(L),F(p,!1)}).catch(V)});var a=$t(),n=u(d(a),2),y=d(n);Tt(y,{prefix:"Level:",min:1,max:100,get value(){return xt(),_()},set value(C){Ee(l,ge(C))}});var i=u(y,2),c=d(i),x=d(c);x.value=(x.__value="Duelist")==null?"":"Duelist";var I=u(x);I.value=(I.__value="Marauder")==null?"":"Marauder";var T=u(I);T.value=(T.__value="Ranger")==null?"":"Ranger";var M=u(T);M.value=(M.__value="Scion")==null?"":"Scion";var H=u(M);H.value=(H.__value="Shadow")==null?"":"Shadow";var Y=u(H);Y.value=(Y.__value="Templar")==null?"":"Templar";var ce=u(Y);ce.value=(ce.__value="Witch")==null?"":"Witch",f(c),f(i);var ue=u(i,2),ne=d(ue),oe=d(ne);oe.value=(oe.__value="None")==null?"":"None";var be=u(oe);K(be,()=>m()==="Scion",C=>{var w=Rt();w.value=(w.__value="Ascendant")==null?"":"Ascendant",S(C,w)},C=>{var w=ie(),L=A(w);K(L,()=>m()==="Marauder",Q=>{var U=At(),B=A(U);B.value=(B.__value="Juggernaut")==null?"":"Juggernaut";var $=u(B,2);$.value=($.__value="Berserker")==null?"":"Berserker";var q=u($,2);q.value=(q.__value="Chieftain")==null?"":"Chieftain",S(Q,U)},Q=>{var U=ie(),B=A(U);K(B,()=>m()==="Ranger",$=>{var q=Ft(),z=A(q);z.value=(z.__value="Raider")==null?"":"Raider";var J=u(z,2);J.value=(J.__value="Deadeye")==null?"":"Deadeye";var ee=u(J,2);ee.value=(ee.__value="Pathfinder")==null?"":"Pathfinder",S($,q)},$=>{var q=ie(),z=A(q);K(z,()=>m()==="Witch",J=>{var ee=Bt(),fe=A(ee);fe.value=(fe.__value="Occultist")==null?"":"Occultist";var k=u(fe,2);k.value=(k.__value="Elementalist")==null?"":"Elementalist";var N=u(k,2);N.value=(N.__value="Necromancer")==null?"":"Necromancer",S(J,ee)},J=>{var ee=ie(),fe=A(ee);K(fe,()=>m()==="Duelist",k=>{var N=Nt(),j=A(N);j.value=(j.__value="Slayer")==null?"":"Slayer";var W=u(j,2);W.value=(W.__value="Gladiator")==null?"":"Gladiator";var R=u(W,2);R.value=(R.__value="Champion")==null?"":"Champion",S(k,N)},k=>{var N=ie(),j=A(N);K(j,()=>m()==="Templar",W=>{var R=Ot(),X=A(R);X.value=(X.__value="Inquisitor")==null?"":"Inquisitor";var O=u(X,2);O.value=(O.__value="Hierophant")==null?"":"Hierophant";var le=u(O,2);le.value=(le.__value="Guardian")==null?"":"Guardian",S(W,R)},W=>{var R=ie(),X=A(R);K(X,()=>m()==="Shadow",O=>{var le=Ht(),de=A(le);de.value=(de.__value="Assassin")==null?"":"Assassin";var xe=u(de,2);xe.value=(xe.__value="Trickster")==null?"":"Trickster";var ze=u(xe,2);ze.value=(ze.__value="Saboteur")==null?"":"Saboteur",S(O,le)},null,!0),S(W,R)},!0),S(k,N)},!0),S(J,ee)},!0),S($,q)},!0),S(Q,U)},!0),S(C,w)}),f(ne),f(ue),f(n),f(a),je(c,m,C=>Ee(o,C)),je(ne,h,C=>Ee(v,C)),S(t,a),Ce()}const qt=[[{stat:"ActiveMinionLimit",label:"Active Minion Limit",fmt:"d"},{stat:"AverageHit",label:"Average Hit",fmt:".1f",compPercent:!0},{stat:"AverageDamage",label:"Average Damage",fmt:".1f",compPercent:!0,flag:"attack"},{stat:"Speed",label:"Attack Rate",fmt:".2f",compPercent:!0,flag:"attack",condFunc:(t,e)=>t>0&&(e.TriggerTime||0)==0},{stat:"Speed",label:"Cast Rate",fmt:".2f",compPercent:!0,flag:"spell",condFunc:(t,e)=>t>0&&(e.TriggerTime||0)==0},{stat:"ServerTriggerRate",label:"Trigger Rate",fmt:".2f",compPercent:!0,condFunc:(t,e)=>(e.TriggerTime||0)!=0},{stat:"Speed",label:"Effective Trigger Rate",fmt:".2f",compPercent:!0,condFunc:(t,e)=>(e.TriggerTime||0)!=0&&e.ServerTriggerRate!=e.Speed},{stat:"WarcryCastTime",label:"Cast Time",fmt:".2fs",compPercent:!0,lowerIsBetter:!0,flag:"warcry"},{stat:"HitSpeed",label:"Hit Rate",fmt:".2f",compPercent:!0,condFunc:(t,e)=>!e.TriggerTime},{stat:"TrapThrowingTime",label:"Trap Throwing Time",fmt:".2fs",compPercent:!0,lowerIsBetter:!0},{stat:"TrapCooldown",label:"Trap Cooldown",fmt:".3fs",lowerIsBetter:!0},{stat:"MineLayingTime",label:"Mine Throwing Time",fmt:".2fs",compPercent:!0,lowerIsBetter:!0},{stat:"TotemPlacementTime",label:"Totem Placement Time",fmt:".2fs",compPercent:!0,lowerIsBetter:!0},{stat:"PreEffectiveCritChance",label:"Crit Chance",fmt:".2f%%"},{stat:"CritChance",label:"Effective Crit Chance",fmt:".2f%%",condFunc:(t,e)=>t!=e.PreEffectiveCritChance},{stat:"CritMultiplier",label:"Crit Multiplier",fmt:"d%%",pc:!0,condFunc:(t,e)=>(e.CritChance||0)>0},{stat:"HitChance",label:"Hit Chance",fmt:".0f%%",flag:"attack"},{stat:"TotalDPS",label:"Total DPS",fmt:".1f",compPercent:!0,flag:"notAverage"},{stat:"TotalDPS",label:"Total DPS",fmt:".1f",compPercent:!0,flag:"showAverage",condFunc:(t,e)=>(e.TriggerTime||0)!=0},{stat:"TotalDot",label:"DoT DPS",fmt:".1f",compPercent:!0},{stat:"WithDotDPS",label:"Total DPS inc. DoT",fmt:".1f",compPercent:!0,flag:"notAverage",condFunc:(t,e)=>t!=e.TotalDPS&&(e.PoisonDPS||0)==0&&(e.IgniteDPS||0)==0&&(e.ImpaleDPS||0)==0&&(e.BleedDPS||0)==0},{stat:"BleedDPS",label:"Bleed DPS",fmt:".1f",compPercent:!0},{stat:"BleedDamage",label:"Total Damage per Bleed",fmt:".1f",compPercent:!0,flag:"showAverage"},{stat:"WithBleedDPS",label:"Total DPS inc. Bleed",fmt:".1f",compPercent:!0,flag:"notAverage",condFunc:(t,e)=>t!=e.TotalDPS&&(e.TotalDot||0)==0&&(e.PoisonDPS||0)==0&&(e.ImpaleDPS||0)==0&&(e.IgniteDPS||0)==0},{stat:"IgniteDPS",label:"Ignite DPS",fmt:".1f",compPercent:!0},{stat:"IgniteDamage",label:"Total Damage per Ignite",fmt:".1f",compPercent:!0,flag:"showAverage"},{stat:"WithIgniteDPS",label:"Total DPS inc. Ignite",fmt:".1f",compPercent:!0,flag:"notAverage",condFunc:(t,e)=>t!=e.TotalDPS&&(e.TotalDot||0)==0&&(e.PoisonDPS||0)==0&&(e.ImpaleDPS||0)==0&&(e.BleedDPS||0)==0},{stat:"WithIgniteAverageDamage",label:"Average Dmg. inc. Ignite",fmt:".1f",compPercent:!0},{stat:"PoisonDPS",label:"Poison DPS",fmt:".1f",compPercent:!0},{stat:"PoisonDamage",label:"Total Damage per Poison",fmt:".1f",compPercent:!0},{stat:"WithPoisonDPS",label:"Total DPS inc. Poison",fmt:".1f",compPercent:!0,flag:"notAverage",condFunc:(t,e)=>t!=e.TotalDPS&&(e.TotalDot||0)==0&&(e.IgniteDPS||0)==0&&(e.ImpaleDPS||0)==0&&(e.BleedDPS||0)==0},{stat:"DecayDPS",label:"Decay DPS",fmt:".1f",compPercent:!0},{stat:"TotalDotDPS",label:"Total DoT DPS",fmt:".1f",compPercent:!0,condFunc:(t,e)=>t!=e.TotalDot&&t!=e.ImpaleDPS&&t!=e.TotalPoisonDPS&&t!=(e.TotalIgniteDPS||e.IgniteDPS)&&t!=e.BleedDPS},{stat:"ImpaleDPS",label:"Impale Damage",fmt:".1f",compPercent:!0,flag:"showAverage"},{stat:"WithImpaleDPS",label:"Damage inc. Impale",fmt:".1f",compPercent:!0,flag:"showAverage",condFunc:(t,e)=>t!=e.TotalDPS&&(e.TotalDot||0)==0&&(e.IgniteDPS||0)==0&&(e.PoisonDPS||0)==0&&(e.BleedDPS||0)==0},{stat:"ImpaleDPS",label:"Impale DPS",fmt:".1f",compPercent:!0,flag:"notAverage"},{stat:"WithImpaleDPS",label:"Total DPS inc. Impale",fmt:".1f",compPercent:!0,flag:"notAverage",condFunc:(t,e)=>t!=e.TotalDPS&&(e.TotalDot||0)==0&&(e.IgniteDPS||0)==0&&(e.PoisonDPS||0)==0&&(e.BleedDPS||0)==0},{stat:"MirageDPS",label:"Total Mirage DPS",fmt:".1f",compPercent:!0,condFunc:t=>t>0},{stat:"CullingDPS",label:"Culling DPS",fmt:".1f",compPercent:!0,condFunc:(t,e)=>(e.CullingDPS||0)>0},{stat:"CombinedDPS",label:"Combined DPS",fmt:".1f",compPercent:!0,flag:"notAverage",condFunc:(t,e)=>t!=(e.TotalDPS||0)+(e.TotalDot||0)&&t!=e.WithImpaleDPS&&t!=e.WithPoisonDPS&&t!=e.WithIgniteDPS&&t!=e.WithBleedDPS},{stat:"CombinedAvg",label:"Combined Total Damage",fmt:".1f",compPercent:!0,flag:"showAverage",condFunc:(t,e)=>t!=e.AverageDamage&&(e.TotalDot||0)==0&&(t!=e.WithPoisonDPS||t!=e.WithIgniteDPS||t!=e.WithBleedDPS)},{stat:"Cooldown",label:"Skill Cooldown",fmt:".3fs",lowerIsBetter:!0},{stat:"SealCooldown",label:"Seal Gain Frequency",fmt:".2fs",lowerIsBetter:!0},{stat:"SealMax",label:"Max Number of Seals",fmt:"d"},{stat:"TimeMaxSeals",label:"Time to Gain Max Seals",fmt:".2fs",lowerIsBetter:!0},{stat:"AreaOfEffectRadius",label:"AoE Radius",fmt:"d"},{stat:"BrandAttachmentRange",label:"Attachment Range",fmt:"d",flag:"brand"},{stat:"BrandTicks",label:"Activations per Brand",fmt:"d",flag:"brand"},{stat:"ManaCost",label:"Mana Cost",fmt:"d",color:r.MANA,compPercent:!0,lowerIsBetter:!0,condFunc:t=>t>0},{stat:"LifeCost",label:"Life Cost",fmt:"d",color:r.LIFE,compPercent:!0,lowerIsBetter:!0,condFunc:t=>t>0},{stat:"ESCost",label:"Energy Shield Cost",fmt:"d",color:r.ES,compPercent:!0,lowerIsBetter:!0,condFunc:t=>t>0},{stat:"RageCost",label:"Rage Cost",fmt:"d",color:r.RAGE,compPercent:!0,lowerIsBetter:!0,condFunc:t=>t>0},{stat:"ManaPercentCost",label:"Mana Cost",fmt:"d%%",color:r.MANA,compPercent:!0,lowerIsBetter:!0,condFunc:t=>t>0},{stat:"LifePercentCost",label:"Life Cost",fmt:"d%%",color:r.LIFE,compPercent:!0,lowerIsBetter:!0,condFunc:t=>t>0},{stat:"ManaPerSecondCost",label:"Mana Cost",fmt:".2f/s",color:r.MANA,compPercent:!0,lowerIsBetter:!0,condFunc:t=>t>0},{stat:"LifePerSecondCost",label:"Life Cost",fmt:".2f/s",color:r.LIFE,compPercent:!0,lowerIsBetter:!0,condFunc:t=>t>0},{stat:"ManaPercentPerSecondCost",label:"Mana Cost",fmt:".2f%%/s",color:r.MANA,compPercent:!0,lowerIsBetter:!0,condFunc:t=>t>0},{stat:"LifePercentPerSecondCost",label:"Life Cost",fmt:".2f%%/s",color:r.LIFE,compPercent:!0,lowerIsBetter:!0,condFunc:t=>t>0},{stat:"ESPerSecondCost",label:"Energy Shield Cost",fmt:".2f/s",color:r.ES,compPercent:!0,lowerIsBetter:!0,condFunc:t=>t>0},{stat:"ESPercentPerSecondCost",label:"Energy Shield Cost",fmt:".2f%%/s",color:r.ES,compPercent:!0,lowerIsBetter:!0,condFunc:t=>t>0}],[{stat:"Str",label:"Strength",color:r.STRENGTH,fmt:"d"},{stat:"ReqStr",label:"Strength Required",color:r.STRENGTH,fmt:"d",lowerIsBetter:!0,condFunc:(t,e)=>t>e.Str,warnFunc:()=>"You do not meet the Strength requirement"},{stat:"Dex",label:"Dexterity",color:r.DEXTERITY,fmt:"d"},{stat:"ReqDex",label:"Dexterity Required",color:r.DEXTERITY,fmt:"d",lowerIsBetter:!0,condFunc:(t,e)=>t>e.Dex,warnFunc:()=>"You do not meet the Dexterity requirement"},{stat:"Int",label:"Intelligence",color:r.INTELLIGENCE,fmt:"d"},{stat:"ReqInt",label:"Intelligence Required",color:r.INTELLIGENCE,fmt:"d",lowerIsBetter:!0,condFunc:(t,e)=>t>e.Int,warnFunc:()=>"You do not meet the Intelligence requirement"},{stat:"Omni",label:"Omniscience",color:r.RARE,fmt:"d"},{stat:"ReqOmni",label:"Omniscience Required",color:r.RARE,fmt:"d",lowerIsBetter:!0,condFunc:(t,e)=>t>(e.Omni||0),warnFunc:()=>"You do not meet the Omniscience requirement"}],[{stat:"Devotion",label:"Devotion",color:r.RARE,fmt:"d"}],[{stat:"TotalEHP",label:"Effective Hit Pool",fmt:".0f",compPercent:!0},{stat:"PhysicalMaximumHitTaken",label:"Phys Max Hit",fmt:".0f",color:r.PHYS,compPercent:!0},{stat:"LightningMaximumHitTaken",label:"Elemental Max Hit",fmt:".0f",color:r.LIGHTNING,compPercent:!0,condFunc:(t,e)=>e.LightningMaximumHitTaken==e.ColdMaximumHitTaken&&e.LightningMaximumHitTaken==e.FireMaximumHitTaken},{stat:"FireMaximumHitTaken",label:"Fire Max Hit",fmt:".0f",color:r.FIRE,compPercent:!0,condFunc:(t,e)=>e.LightningMaximumHitTaken!=e.ColdMaximumHitTaken||e.LightningMaximumHitTaken!=e.FireMaximumHitTaken},{stat:"ColdMaximumHitTaken",label:"Cold Max Hit",fmt:".0f",color:r.COLD,compPercent:!0,condFunc:(t,e)=>e.LightningMaximumHitTaken!=e.ColdMaximumHitTaken||e.LightningMaximumHitTaken!=e.FireMaximumHitTaken},{stat:"LightningMaximumHitTaken",label:"Lightning Max Hit",fmt:".0f",color:r.LIGHTNING,compPercent:!0,condFunc:(t,e)=>e.LightningMaximumHitTaken!=e.ColdMaximumHitTaken||e.LightningMaximumHitTaken!=e.FireMaximumHitTaken},{stat:"ChaosMaximumHitTaken",label:"Chaos Max Hit",fmt:".0f",color:r.CHAOS,compPercent:!0}],[{stat:"Life",label:"Total Life",fmt:"d",color:r.LIFE,compPercent:!0},{stat:"Spec:LifeInc",label:"%Inc Life from Tree",fmt:"d%%",color:r.LIFE,condFunc:(t,e)=>t>0&&e.Life>1},{stat:"LifeUnreserved",label:"Unreserved Life",fmt:"d",color:r.LIFE,condFunc:(t,e)=>t<e.Life,compPercent:!0,warnFunc:t=>t<0&&"Your unreserved Life is negative"},{stat:"LifeRecoverable",label:"Life Recoverable",fmt:"d",color:r.LIFE,condFunc:(t,e)=>t<e.LifeUnreserved},{stat:"LifeUnreservedPercent",label:"Unreserved Life",fmt:"d%%",color:r.LIFE,condFunc:t=>t<100},{stat:"LifeRegen",label:"Life Regen",fmt:".1f",color:r.LIFE},{stat:"LifeLeechGainRate",label:"Life Leech/On Hit Rate",fmt:".1f",color:r.LIFE,compPercent:!0},{stat:"LifeLeechGainPerHit",label:"Life Leech/Gain per Hit",fmt:".1f",color:r.LIFE,compPercent:!0}],[{stat:"Mana",label:"Total Mana",fmt:"d",color:r.MANA,compPercent:!0},{stat:"Spec:ManaInc",label:"%Inc Mana from Tree",color:r.MANA,fmt:"d%%"},{stat:"ManaUnreserved",label:"Unreserved Mana",fmt:"d",color:r.MANA,condFunc:(t,e)=>t<e.Mana,compPercent:!0,warnFunc:t=>t<0&&"Your unreserved Mana is negative"},{stat:"ManaUnreservedPercent",label:"Unreserved Mana",fmt:"d%%",color:r.MANA,condFunc:t=>t<100},{stat:"ManaRegen",label:"Mana Regen",fmt:".1f",color:r.MANA},{stat:"ManaLeechGainRate",label:"Mana Leech/On Hit Rate",fmt:".1f",color:r.MANA,compPercent:!0},{stat:"ManaLeechGainPerHit",label:"Mana Leech/Gain per Hit",fmt:".1f",color:r.MANA,compPercent:!0}],[{stat:"TotalDegen",label:"Total Degen",fmt:".1f",lowerIsBetter:!0},{stat:"TotalNetRegen",label:"Total Net Regen",fmt:"+.1f"},{stat:"NetLifeRegen",label:"Net Life Regen",fmt:"+.1f",color:r.LIFE},{stat:"NetManaRegen",label:"Net Mana Regen",fmt:"+.1f",color:r.MANA},{stat:"NetEnergyShieldRegen",label:"Net Energy Shield Regen",fmt:"+.1f",color:r.ES}],[{stat:"Ward",label:"Ward",fmt:"d",color:r.WARD,compPercent:!0},{stat:"EnergyShield",label:"Energy Shield",fmt:"d",color:r.ES,compPercent:!0},{stat:"EnergyShieldRecoveryCap",label:"Recoverable ES",color:r.ES,fmt:"d",condFunc:t=>!!t},{stat:"Spec:EnergyShieldInc",label:"%Inc ES from Tree",color:r.ES,fmt:"d%%"},{stat:"EnergyShieldRegen",label:"Energy Shield Regen",color:r.ES,fmt:".1f"},{stat:"EnergyShieldLeechGainRate",label:"ES Leech/On Hit Rate",color:r.ES,fmt:".1f",compPercent:!0},{stat:"EnergyShieldLeechGainPerHit",label:"ES Leech/Gain per Hit",color:r.ES,fmt:".1f",compPercent:!0}],[{stat:"Evasion",label:"Evasion rating",fmt:"d",color:r.EVASION,compPercent:!0},{stat:"Spec:EvasionInc",label:"%Inc Evasion from Tree",color:r.EVASION,fmt:"d%%"},{stat:"MeleeEvadeChance",label:"Evade Chance",fmt:"d%%",color:r.EVASION,condFunc:(t,e)=>t>0&&e.MeleeEvadeChance==e.ProjectileEvadeChance},{stat:"MeleeEvadeChance",label:"Melee Evade Chance",fmt:"d%%",color:r.EVASION,condFunc:(t,e)=>t>0&&e.MeleeEvadeChance!=e.ProjectileEvadeChance},{stat:"ProjectileEvadeChance",label:"Projectile Evade Chance",fmt:"d%%",color:r.EVASION,condFunc:(t,e)=>t>0&&e.MeleeEvadeChance!=e.ProjectileEvadeChance}],[{stat:"Armour",label:"Armour",fmt:"d",compPercent:!0},{stat:"Spec:ArmourInc",label:"%Inc Armour from Tree",fmt:"d%%"},{stat:"PhysicalDamageReduction",label:"Phys. Damage Reduction",fmt:"d%%"}],[{stat:"BlockChance",label:"Block Chance",fmt:"d%%",overCapStat:"BlockChanceOverCap"},{stat:"SpellBlockChance",label:"Spell Block Chance",fmt:"d%%",overCapStat:"SpellBlockChanceOverCap"},{stat:"AttackDodgeChance",label:"Attack Dodge Chance",fmt:"d%%",overCapStat:"AttackDodgeChanceOverCap"},{stat:"SpellDodgeChance",label:"Spell Dodge Chance",fmt:"d%%",overCapStat:"SpellDodgeChanceOverCap"},{stat:"SpellSuppressionChance",label:"Spell Suppression Chance",fmt:"d%%",overCapStat:"SpellSuppressionChanceOverCap"}],[{stat:"FireResist",label:"Fire Resistance",fmt:"d%%",color:r.FIRE,overCapStat:"FireResistOverCap"},{stat:"FireResistOverCap",label:"Fire Res. Over Max",fmt:"d%%",hideStat:!0},{stat:"ColdResist",label:"Cold Resistance",fmt:"d%%",color:r.COLD,overCapStat:"ColdResistOverCap"},{stat:"ColdResistOverCap",label:"Cold Res. Over Max",fmt:"d%%",hideStat:!0},{stat:"LightningResist",label:"Lightning Resistance",fmt:"d%%",color:r.LIGHTNING,overCapStat:"LightningResistOverCap"},{stat:"LightningResistOverCap",label:"Lightning Res. Over Max",fmt:"d%%",hideStat:!0},{stat:"ChaosResist",label:"Chaos Resistance",fmt:"d%%",color:r.CHAOS,condFunc:(t,e)=>!e.ChaosInoculation,overCapStat:"ChaosResistOverCap"},{stat:"ChaosResistOverCap",label:"Chaos Res. Over Max",fmt:"d%%",hideStat:!0},{label:"Chaos Resistance",val:"Immune",labelStat:"ChaosResist",color:r.CHAOS,condFunc:(t,e)=>e.ChaosInoculation>0}],[{stat:"EffectiveMovementSpeedMod",label:"Movement Speed Modifier",fmt:"+d%%",mod:!0}],[{stat:"FullDPS",label:"Full DPS",fmt:".1f",color:r.CURRENCY,compPercent:!0}],[{stat:"SkillDPS",label:"Skill DPS"}]];var Ge={},we={},qe={},De={},et;function jt(){if(et)return De;et=1,Object.defineProperty(De,"__esModule",{value:!0}),De.boolean=void 0;const t=function(e){switch(Object.prototype.toString.call(e)){case"[object String]":return["true","t","yes","y","on","1"].includes(e.trim().toLowerCase());case"[object Number]":return e.valueOf()===1;case"[object Boolean]":return e.valueOf();default:return!1}};return De.boolean=t,De}var Te={},tt;function Wt(){if(tt)return Te;tt=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.isBooleanable=void 0;const t=function(e){switch(Object.prototype.toString.call(e)){case"[object String]":return["true","t","yes","y","on","1","false","f","no","n","off","0"].includes(e.trim().toLowerCase());case"[object Number]":return[0,1].includes(e.valueOf());case"[object Boolean]":return!0;default:return!1}};return Te.isBooleanable=t,Te}var at;function Ut(){return at||(at=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isBooleanable=t.boolean=void 0;const e=jt();Object.defineProperty(t,"boolean",{enumerable:!0,get:function(){return e.boolean}});const b=Wt();Object.defineProperty(t,"isBooleanable",{enumerable:!0,get:function(){return b.isBooleanable}})}(qe)),qe}var Ie={},rt;function Vt(){if(rt)return Ie;rt=1,Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.tokenize=void 0;const t=/(?:%(?<flag>([+0-]|-\+))?(?<width>\d+)?(?<position>\d+\$)?(?<precision>\.\d+)?(?<conversion>[%BCESb-iosux]))|(\\%)/g,e=b=>{let s;const _=[];let m=0,h=0,g=null;for(;(s=t.exec(b))!==null;){s.index>h&&(g={literal:b.slice(h,s.index),type:"literal"},_.push(g));const P=s[0];h=s.index+P.length,P==="\\%"||P==="%%"?g&&g.type==="literal"?g.literal+="%":(g={literal:"%",type:"literal"},_.push(g)):s.groups&&(g={conversion:s.groups.conversion,flag:s.groups.flag||null,placeholder:P,position:s.groups.position?Number.parseInt(s.groups.position,10)-1:m++,precision:s.groups.precision?Number.parseInt(s.groups.precision.slice(1),10):null,type:"placeholder",width:s.groups.width?Number.parseInt(s.groups.width,10):null},_.push(g))}return h<=b.length-1&&(g&&g.type==="literal"?g.literal+=b.slice(h):_.push({literal:b.slice(h),type:"literal"})),_};return Ie.tokenize=e,Ie}var nt;function zt(){if(nt)return we;nt=1,Object.defineProperty(we,"__esModule",{value:!0}),we.createPrintf=void 0;const t=Ut(),e=Vt(),b=(_,m)=>m.placeholder,s=_=>{var m;const h=(p,o,v)=>v==="-"?p.padEnd(o," "):v==="-+"?((Number(p)>=0?"+":"")+p).padEnd(o," "):v==="+"?((Number(p)>=0?"+":"")+p).padStart(o," "):v==="0"?p.padStart(o,"0"):p.padStart(o," "),g=(m=_==null?void 0:_.formatUnboundExpression)!==null&&m!==void 0?m:b,P={};return(p,...o)=>{let v=P[p];v||(v=P[p]=e.tokenize(p));let l="";for(const a of v)if(a.type==="literal")l+=a.literal;else{let n=o[a.position];if(n===void 0)l+=g(p,a,o);else if(a.conversion==="b")l+=t.boolean(n)?"true":"false";else if(a.conversion==="B")l+=t.boolean(n)?"TRUE":"FALSE";else if(a.conversion==="c")l+=n;else if(a.conversion==="C")l+=String(n).toUpperCase();else if(a.conversion==="i"||a.conversion==="d")n=String(Math.trunc(n)),a.width!==null&&(n=h(n,a.width,a.flag)),l+=n;else if(a.conversion==="e")l+=Number(n).toExponential();else if(a.conversion==="E")l+=Number(n).toExponential().toUpperCase();else if(a.conversion==="f")a.precision!==null&&(n=Number(n).toFixed(a.precision)),a.width!==null&&(n=h(String(n),a.width,a.flag)),l+=n;else if(a.conversion==="o")l+=(Number.parseInt(String(n),10)>>>0).toString(8);else if(a.conversion==="s")a.width!==null&&(n=h(String(n),a.width,a.flag)),l+=n;else if(a.conversion==="S")a.width!==null&&(n=h(String(n),a.width,a.flag)),l+=String(n).toUpperCase();else if(a.conversion==="u")l+=Number.parseInt(String(n),10)>>>0;else if(a.conversion==="x")n=(Number.parseInt(String(n),10)>>>0).toString(16),a.width!==null&&(n=h(String(n),a.width,a.flag)),l+=n;else throw new Error("Unknown format specifier.")}return l}};return we.createPrintf=s,we}var ot;function Yt(){return ot||(ot=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.printf=t.createPrintf=void 0;const e=zt();Object.defineProperty(t,"createPrintf",{enumerable:!0,get:function(){return e.createPrintf}}),t.printf=e.createPrintf()}(Ge)),Ge}var Jt=Yt();const Se=ye([]),st=t=>Se.set([...Ue(Se),t]);var Xt=E('<div class="flex flex-col gap-4"><fieldset class="border border-white bg-neutral-900 p-2 mt-4 min-w-[15vw]"><legend class="container">Application Options</legend> <div class="side-by-side-max-content w-full"><span>Font Scaling:</span> <div class="flex flex-row gap-1"><input type="range" min="6" max="18" step="0.5" class="slider"> <span> </span></div></div></fieldset> <div class="flex flex-row items-center justify-center"><button class="container">Close</button></div></div>');function Kt(t,e){const b=ke(),s=()=>ae(We,"$fontScaling",b);var _=Xt(),m=d(_),h=u(d(m),2),g=u(d(h),2),P=d(g);Ct(P);var p=u(P,2),o=d(p);f(p),f(g),f(h),f(m);var v=u(m,2),l=d(v);l.__click=function(...a){var n;(n=e.onclose)==null||n.apply(this,a)},f(v),f(_),se(()=>Z(o,`${s()??""}pt`)),kt(P,s,a=>Ee(We,a)),S(t,_)}Le(["click"]);var Zt=E('<tr><td class="border border-neutral-600 p-2"> </td><td class="border border-neutral-600 p-2"> </td></tr>'),Qt=E('<table class="table-auto border-collapse border border-neutral-500"><tbody></tbody></table>'),ea=E('<tr><td class="border border-neutral-600 p-2"> </td><td class="border border-neutral-600 p-2"> </td></tr>'),ta=E('<table class="table-auto border-collapse border border-neutral-500"><tbody></tbody></table>'),aa=E('<div class="flex flex-col gap-4"><div class="flex flex-row gap-4"><fieldset class="border border-white bg-neutral-900"><legend class="container">Build Settings</legend> <!></fieldset> <fieldset class="border border-white bg-neutral-900"><legend class="container">Dependencies</legend> <!></fieldset></div> <div class="flex flex-row items-center justify-center"><button class="container">Close</button></div></div>');function ra(t,e){Pe(e,!0);var b=aa(),s=d(b),_=d(s),m=u(d(_),2);Ve(m,()=>{var o;return(o=G)==null?void 0:o.BuildInfo()},null,(o,v)=>{var l=Qt(),a=d(l);_e(a,21,()=>{var n;return((n=D(v))==null?void 0:n.Settings)||[]},he,(n,y)=>{var i=Zt(),c=d(i),x=d(c,!0);f(c);var I=u(c),T=d(I,!0);f(I),f(i),se(()=>{Z(x,D(y).Key),Z(T,D(y).Value)}),S(n,i)}),f(a),f(l),S(o,l)}),f(_);var h=u(_,2),g=u(d(h),2);Ve(g,()=>{var o;return(o=G)==null?void 0:o.BuildInfo()},null,(o,v)=>{var l=ta(),a=d(l);_e(a,21,()=>{var n;return((n=D(v))==null?void 0:n.Deps)||[]},he,(n,y)=>{var i=ea(),c=d(i),x=d(c,!0);f(c);var I=u(c),T=d(I,!0);f(I),f(i),se(()=>{var M,H;Z(x,(M=D(y))==null?void 0:M.Path),Z(T,(H=D(y))==null?void 0:H.Version)}),S(n,i)}),f(a),f(l),S(o,l)}),f(h),f(s);var P=u(s,2),p=d(P);p.__click=function(...o){var v;(v=e.onclose)==null||v.apply(this,o)},f(P),f(b),S(t,b),Ce()}Le(["click"]);const na=()=>{st({component:Kt,props:{}})},oa=()=>{st({component:ra,props:{}})};var la=(t,e)=>F(e,!1),ia=E('<div class="h-full flex flex-col full-page relative"><button class="absolute -right-3 top-1/2 cursor-pointer font-bold">&gt;</button></div>'),sa=E("<option>&lt;No skills added yet&gt;</option>"),ca=E("<option> </option>"),ua=E('<div class="svelte-1bnpwee"> </div> <div class="svelte-1bnpwee"> </div>',1),fa=E('<div class="side-by-side-sidebar svelte-1bnpwee"></div>'),da=(t,e)=>F(e,!0),va=E('<div class="w-[25vw] min-w-[17em] max-w-[25em] h-full border-r-2 border-white flex flex-col bg-neutral-900 full-page relative"><div class="flex flex-col gap-3 border-b-2 border-white flex-1 p-2 sidebar-stat-wrapper svelte-1bnpwee"><div class="flex flex-col gap-2"><div class="flex flex-row gap-1"><a class="container min-w-fit flex-1 text-center">Import/Export Build</a> <a class="container min-w-fit flex-1 text-center">Notes</a> <a class="container min-w-fit flex-1 text-center">Config</a></div> <div class="flex flex-row gap-1"><a class="container min-w-fit flex-1 text-center">Tree</a> <a class="container min-w-fit flex-1 text-center">Skills</a> <a class="container min-w-fit flex-1 text-center">Items</a> <a class="container min-w-fit flex-1 text-center">Calcs</a></div></div> <div class="flex flex-col gap-1"><div>Main Skill:</div> <div class="container select-wrapper min-w-full"><select class="input w-full"><!></select></div></div> <div class="container min-w-full overflow-y-auto flex-1 flex flex-col gap-2.5 overflow-y-scroll"></div></div> <div class="flex flex-row p-2"><div class="flex flex-col flex-1 gap-2"><button class="container min-w-full flex-1">Options</button> <button class="container min-w-full flex-1">About</button></div> <div class="flex flex-col flex-1 items-center"><span class="flex-1 flex place-items-center">go-pob</span> <button class="flex-1 flex place-items-center cursor-pointer"><!></button></div></div> <button class="absolute -right-3.5 top-1/2 cursor-pointer font-bold">&lt;</button></div>');function ma(t,e){Pe(e,!0);const b=ke(),s=()=>ae(pe,"$currentBuild",b),_=()=>ae(l,"$mainSocketGroup",b),m=()=>ae(it,"$outputs",b),h=i=>i,g=(i,c,x)=>{const I=c*((i.pc||i.mod)&&100||1)-(i.mod&&100||0);let T=r.NEGATIVE;c>=0&&(T="#ffffff");let M=Jt.printf("%"+(i.fmt||"d"),I);return M=h(M),[M,T]},P=i=>{if(!i||!i.Output)return[];const c=[];for(const x of qt){const I=[];for(const T of x){const M=T.stat;if(!M||!(M in i.Output))continue;const H=i.Output[M];if(T.condFunc&&!T.condFunc(H,i.Output)||T.flag&&i.SkillFlags&&i.SkillFlags[T.flag]!==!0)continue;T.warnFunc;const Y=g(T,H,T.overCapStat?i.Output[T.overCapStat]:void 0);I.push({label:T.label,labelColor:T.color||"#ffffff",value:Y[0],valueColor:Y[1]})}I.length>0&&c.push(I)}return c},p=ge({});yt(()=>{Dt().then(i=>{i.forEach(c=>{p[c.ID]=c})}).catch(V)});let o=re(1);me(()=>{var i,c,x;(x=(c=(i=s())==null?void 0:i.Skills)==null?void 0:c.ActiveSkillSet)==null||x.then(I=>{if(I<1){F(o,1);return}F(o,ge(I))}).catch(V)}),me(()=>{console.log("ACTIVE:",D(o))});let v=re(ge([]));me(()=>{var i,c,x,I,T;(T=(I=(x=(c=(i=s())==null?void 0:i.Skills)==null?void 0:c.SkillSets)==null?void 0:x[D(o)-1])==null?void 0:I.Skills)==null||T.then(async M=>{var Y,ce,ue,ne,oe,be,C,w,L,Q;const H=[];for(let U=0;U<M.length;(U+=1)-1){let B=await((oe=(ne=(ue=(ce=(Y=s())==null?void 0:Y.Skills)==null?void 0:ce.SkillSets)==null?void 0:ue[D(o)-1])==null?void 0:ne.Skills)==null?void 0:oe[U].Label);if(B===""){const $=(Q=(L=(w=(C=(be=s())==null?void 0:be.Skills)==null?void 0:C.SkillSets)==null?void 0:w[D(o)-1])==null?void 0:L.Skills)==null?void 0:Q[U].Gems;if(await $)for(let q=0;q<await $.length;(q+=1)-1){const z=p[await $[q].GemID];!z||z.Support||(B!==""&&(B+=", "),B+=z.Base.Name)}else B="<No active skills>"}B&&H.push(B)}F(v,ge(H))}).catch(V)});const l=ye(-1);me(()=>{var i,c,x;(x=(c=(i=s())==null?void 0:i.Build)==null?void 0:c.MainSocketGroup)==null||x.then(I=>l.set(I-1)).catch(V)}),l.subscribe(i=>{var c;i>=0&&((c=G)==null||c.SetMainSocketGroup(i+1).catch(V)),pe.set(s())});let a=re(!1);var n=ie(),y=A(n);K(y,()=>D(a),i=>{var c=ia(),x=d(c);x.__click=[la,a],f(c),S(i,c)},i=>{var c=va(),x=d(c),I=d(x),T=d(I),M=d(T);te(M,"href",`${ve??""}/import`);var H=u(M,2);te(H,"href",`${ve??""}/notes`);var Y=u(H,2);te(Y,"href",`${ve??""}/configuration`),f(T);var ce=u(T,2),ue=d(ce);te(ue,"href",`${ve??""}/tree`);var ne=u(ue,2);te(ne,"href",`${ve??""}/skills`);var oe=u(ne,2);te(oe,"href",`${ve??""}/items`);var be=u(oe,2);te(be,"href",`${ve??""}/calcs`),f(ce),f(I);var C=u(I,2),w=u(d(C),2),L=d(w),Q=d(L);K(Q,()=>D(v).length===0,k=>{var N=sa();S(k,N)},k=>{var N=ie(),j=A(N);_e(j,17,()=>D(v),he,(W,R,X)=>{var O=ca();O.value=(O.__value=X)==null?"":X;var le=d(O,!0);f(O),se(()=>Z(le,D(R))),S(W,O)}),S(k,N)}),f(L),f(w),f(C);var U=u(C,2);_e(U,5,()=>P(m()),he,(k,N)=>{var j=fa();_e(j,21,()=>D(N),he,(W,R)=>{var X=ua(),O=A(X),le=d(O);f(O);var de=u(O,2),xe=d(de,!0);f(de),se(()=>{te(O,"style",`color: ${D(R).labelColor??""}`),Z(le,`${D(R).label??""}:`),te(de,"style",`color: ${D(R).valueColor??""}`),Z(xe,D(R).value)}),S(W,X)}),f(j),S(k,j)}),f(U),f(x);var B=u(x,2),$=d(B),q=d($);q.__click=[na],St(2),f($);var z=u($,2),J=u(d(z),2);J.__click=[oa];var ee=d(J);Ve(ee,()=>{var k;return(k=G)==null?void 0:k.BuildInfo()},null,(k,N)=>{var j=ct();se(()=>{var W,R;return Z(j,`Version: ${((R=(W=D(N))==null?void 0:W.Main)==null?void 0:R.Version)??""}`)}),S(k,j)}),f(J),f(z),f(B);var fe=u(B,2);fe.__click=[da,a],f(c),je(L,_,k=>Ee(l,k)),S(i,c)}),S(t,n),Ce()}Le(["click"]);const lt=(t,e,b)=>{e.config.backdropClose&&t.target===D(b)&&e.closeOverlay()};var pa=E('<button class="overlay svelte-e3qg0g"><!></button>');function ba(t,e){Pe(e,!0);let b=re(void 0);var s=pa();s.__click=[lt,e,b],s.__keyup=[lt,e,b];var _=d(s);Lt(_,()=>e.config.component,(m,h)=>{h(m,wt({get onclose(){return e.closeOverlay}},()=>e.config.props))}),f(s),ht(s,m=>F(b,m),()=>D(b)),S(t,s),Ce()}Le(["click","keyup"]);function ga(t,e){Pe(e,!1);const b=ke(),s=()=>ae(Se,"$overlays",b),_=g=>{Ue(Se).splice(g,1),Se.set(Ue(Se))};Mt();var m=ie(),h=A(m);_e(h,1,s,he,(g,P,p)=>{ba(g,{get config(){return D(P)},closeOverlay:()=>_(p)})}),S(t,m),Ce()}var Sa=E("<br> ",1),_a=E('<div class="flex flex-row justify-center h-full"><div class="flex flex-col justify-center text-5xl text-center"> <!></div></div>'),ha=E('<!> <div class="flex flex-row h-full full-page"><!> <div class="h-full w-full overflow-hidden"><!></div></div> <!>',1),Pa=E('<div class="w-screen h-screen max-w-screen max-h-screen overflow-hidden flex flex-col"><!></div>');function Ga(t,e){Pe(e,!0);const b=ke(),s=()=>ae(We,"$fontScaling",b);let _=re(!0),m=re("Initializing..."),h=re("");!G||G===null?F(m,"Failed to initialize worker"):G.booted.then(p=>{if(p){F(_,!1);return}fetch(Et+"/go-pob.wasm").then(o=>o.arrayBuffer()).then(o=>{var v;(v=G)==null||v.boot(o,Oe(l=>{it.set(l)}),Oe(pe)).then(async()=>{var l,a;console.log("worker booted"),F(m,"Loading data..."),await((l=G)==null?void 0:l.loadData(Oe(async n=>{F(m,"Loading data:"),F(h,ge(n))}))),F(_,!1),(a=G)==null||a.ImportCode(It).then(()=>{var n;(n=G)==null||n.Tick("importBuildFromCode").catch(V)}).catch(V)}).catch(V)}).catch(V)}).catch(V);var g=Pa(),P=d(g);K(P,()=>D(_),p=>{var o=_a(),v=d(o),l=d(v),a=u(l);K(a,()=>D(h)!=="",n=>{var y=Sa(),i=u(A(y));se(()=>Z(i,` ${D(h)??""}`)),S(n,y)}),f(v),f(o),se(()=>Z(l,`${D(m)??""} `)),S(p,o)},p=>{var o=ha(),v=A(o);Gt(v,{});var l=u(v,2),a=d(l);ma(a,{});var n=u(a,2),y=d(n);Pt(y,()=>e.children??_t),f(n),f(l);var i=u(l,2);ga(i,{}),S(p,o)}),f(g),se(()=>te(g,"style",`font-size: ${s()??""}pt`)),S(t,g),Ce()}export{Ga as component};
